

Started POST "/logins.json" for 127.0.0.1 at 2014-03-28 15:14:02 +0900

ActiveRecord::PendingMigrationError (Migrations are pending; run 'rake db:migrate RAILS_ENV=development' to resolve this issue.):
  activerecord (4.0.0.beta1) lib/active_record/migration.rb:357:in `check_pending!'
  activerecord (4.0.0.beta1) lib/active_record/migration.rb:346:in `block in call'
  activesupport (4.0.0.beta1) lib/active_support/logger_silence.rb:16:in `silence'
  activerecord (4.0.0.beta1) lib/active_record/migration.rb:345:in `call'
  actionpack (4.0.0.beta1) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0.beta1) lib/active_support/callbacks.rb:373:in `_run__1574645739940852526__call__callbacks'
  activesupport (4.0.0.beta1) lib/active_support/callbacks.rb:78:in `run_callbacks'
  actionpack (4.0.0.beta1) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0.beta1) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0.beta1) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  actionpack (4.0.0.beta1) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0.beta1) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0.beta1) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0.beta1) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0.beta1) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0.beta1) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0.beta1) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0.beta1) lib/rails/rack/logger.rb:21:in `call'
  actionpack (4.0.0.beta1) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0.beta1) lib/active_support/cache/strategy/local_cache.rb:72:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0.beta1) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0.beta1) lib/rails/engine.rb:510:in `call'
  railties (4.0.0.beta1) lib/rails/application.rb:96:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /Users/lamungkun_sarunyoo/.rvm/rubies/ruby-2.0.0-p247/lib/ruby/2.0.0/webrick/httpserver.rb:138:in `service'
  /Users/lamungkun_sarunyoo/.rvm/rubies/ruby-2.0.0-p247/lib/ruby/2.0.0/webrick/httpserver.rb:94:in `run'
  /Users/lamungkun_sarunyoo/.rvm/rubies/ruby-2.0.0-p247/lib/ruby/2.0.0/webrick/server.rb:295:in `block in start_thread'


  Rendered /Users/lamungkun_sarunyoo/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0.beta1/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.6ms)
  Rendered /Users/lamungkun_sarunyoo/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0.beta1/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
  Rendered /Users/lamungkun_sarunyoo/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0.beta1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.1ms)
  Rendered /Users/lamungkun_sarunyoo/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0.beta1/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (19.6ms)
  [1m[36m (1.6ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (1.0ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateUsers (20130516085642)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.6ms)[0m  [1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "password" varchar(255), "profileImage" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20130516085642"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
Migrating to CreateFriendships (20130516090122)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.9ms)[0m  [1mCREATE TABLE "friendships" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20130516090122"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
Migrating to AddUserIdToFriendship (20130516090241)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (1.1ms)[0m  [1mALTER TABLE "friendships" ADD "user_id" integer[0m
  [1m[35m (0.2ms)[0m  CREATE INDEX "index_friendships_on_user_id" ON "friendships" ("user_id")
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20130516090241"]]
  [1m[35m (0.9ms)[0m  commit transaction
Migrating to AddFriendIdToFriendship (20130516090242)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.6ms)[0m  ALTER TABLE "friendships" ADD "friend_id" integer
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20130516090242"]]
  [1m[35m (1.0ms)[0m  commit transaction
Migrating to CreateTimelines (20130516091432)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  CREATE TABLE "timelines" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" varchar(255), "time" datetime, "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20130516091432"]]
  [1m[35m (1.0ms)[0m  commit transaction
Migrating to AddUserIdToTimeline (20130516091631)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.6ms)[0m  ALTER TABLE "timelines" ADD "user_id" integer
  [1m[36m (0.2ms)[0m  [1mCREATE INDEX "index_timelines_on_user_id" ON "timelines" ("user_id")[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20130516091631"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
Migrating to CreatePictures (20130516092023)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "pictures" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "picture_url" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20130516092023"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
Migrating to AddPictureIdToTimeline (20130516092138)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "timelines" ADD "picture_id" integer[0m
  [1m[35m (0.2ms)[0m  CREATE INDEX "index_timelines_on_picture_id" ON "timelines" ("picture_id")
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20130516092138"]]
  [1m[35m (1.2ms)[0m  commit transaction
Migrating to AddUserIdToPicture (20130516092430)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "pictures" ADD "user_id" integer
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_pictures_on_user_id" ON "pictures" ("user_id")[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20130516092430"]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
Migrating to CreateCountries (20130516092703)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "countries" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "country_name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20130516092703"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
Migrating to CreateCategories (20130516092934)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.6ms)[0m  [1mCREATE TABLE "categories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "category_name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20130516092934"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
Migrating to CreateComments (20130516093137)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "comments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" varchar(255), "time" datetime, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20130516093137"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
Migrating to CreateLikes (20130516093315)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "likes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20130516093315"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
Migrating to AddPictureIdToLike (20130516093419)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "likes" ADD "picture_id" integer[0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "index_likes_on_picture_id" ON "likes" ("picture_id")
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20130516093419"]]
  [1m[35m (1.3ms)[0m  commit transaction
Migrating to AddUserIdToLike (20130516093517)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "likes" ADD "user_id" integer
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_likes_on_user_id" ON "likes" ("user_id")[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20130516093517"]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
Migrating to AddUserIdToComment (20130516093618)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.6ms)[0m  [1mALTER TABLE "comments" ADD "user_id" integer[0m
  [1m[35m (0.2ms)[0m  CREATE INDEX "index_comments_on_user_id" ON "comments" ("user_id")
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20130516093618"]]
  [1m[35m (0.8ms)[0m  commit transaction
Migrating to AddPictureIdToComment (20130516093637)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.6ms)[0m  ALTER TABLE "comments" ADD "picture_id" integer
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_comments_on_picture_id" ON "comments" ("picture_id")[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20130516093637"]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
Migrating to AddCountryIdToPicture (20130516093814)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "pictures" ADD "country_id" integer[0m
  [1m[35m (0.2ms)[0m  CREATE INDEX "index_pictures_on_country_id" ON "pictures" ("country_id")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20130516093814"]]
  [1m[35m (1.2ms)[0m  commit transaction
Migrating to AddCatagoryIdToPicture (20130516093855)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.5ms)[0m  ALTER TABLE "pictures" ADD "category_id" integer
  [1m[36m (35.4ms)[0m  [1mCREATE INDEX "index_pictures_on_category_id" ON "pictures" ("category_id")[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20130516093855"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mUser Load (2.2ms)[0m  [1mSELECT "users".* FROM "users"[0m


Started POST "/saveProfileImage.json" for 127.0.0.1 at 2014-03-28 15:17:27 +0900
Processing by UsersController#saveProfileImage as JSON
  Parameters: {"picture"=>#<ActionDispatch::Http::UploadedFile:0x007feb3e45e4b8 @tempfile=#<Tempfile:/var/folders/mt/rwjrt4y10jn92lx246j_s4j00000gn/T/RackMultipart20140328-4335-11ei0c>, @original_filename="pic.png", @content_type="image/png", @headers="Content-Disposition: form-data; name=\"picture\"; filename=\"pic.png\"\r\nContent-Type: image/png\r\n">}
profile71a2062b2f85d588037ea1636fd2ceaef8480016.png
  Rendered text template (0.0ms)
Completed 200 OK in 4ms (Views: 1.7ms | ActiveRecord: 0.0ms)


Started POST "/users.json" for 127.0.0.1 at 2014-03-28 15:17:27 +0900
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"username"=>"admin", "password"=>"[FILTERED]", "profileImage"=>"profile/profile71a2062b2f85d588037ea1636fd2ceaef8480016.png"}}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (4.4ms)[0m  INSERT INTO "users" ("created_at", "password", "profileImage", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", Fri, 28 Mar 2014 06:17:27 UTC +00:00], ["password", "7110eda4d09e062aa5e4a390b0a572ac0d2c0220"], ["profileImage", "profile/profile71a2062b2f85d588037ea1636fd2ceaef8480016.png"], ["updated_at", Fri, 28 Mar 2014 06:17:27 UTC +00:00], ["username", "admin"]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  Rendered text template (0.0ms)
Completed 200 OK in 34ms (Views: 0.5ms | ActiveRecord: 5.8ms)


Started POST "/logins.json" for 127.0.0.1 at 2014-03-28 15:17:29 +0900
Processing by LoginsController#create as JSON
  Parameters: {"username"=>"admin", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."username" = 'admin' ORDER BY "users"."id" ASC LIMIT 1
registered!! UserID1
  Rendered text template (0.0ms)
Completed 200 OK in 69ms (Views: 34.7ms | ActiveRecord: 0.2ms)


Started GET "/users/1.json" for 127.0.0.1 at 2014-03-28 15:17:29 +0900
Processing by UsersController#show as JSON
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "timelines" WHERE (user_id=1)
  Rendered users/show.json.jbuilder (3.8ms)
Completed 200 OK in 21ms (Views: 7.4ms | ActiveRecord: 1.1ms)


Started GET "/pictures.json" for 127.0.0.1 at 2014-03-28 15:17:29 +0900
Processing by PicturesController#index as JSON
  [1m[36mPicture Load (0.5ms)[0m  [1mSELECT "pictures".* FROM "pictures" ORDER BY id desc LIMIT 15 OFFSET 0[0m
  Rendered pictures/index.json.jbuilder (2.7ms)
Completed 200 OK in 11ms (Views: 5.6ms | ActiveRecord: 0.8ms)


Started GET "/timelines.json?offset=0" for 127.0.0.1 at 2014-03-28 15:17:29 +0900
Processing by TimelinesController#index as JSON
  Parameters: {"offset"=>"0"}
-------------->index session 1
-------------->offset 0
offset 0
offset 0 not -1
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "friendships" WHERE (user_id=1)
0
  [1m[36mFriendship Load (0.2ms)[0m  [1mSELECT "friendships".* FROM "friendships" WHERE (user_id=1)[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT username FROM "users" WHERE (id=1) ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT profileImage FROM "users" WHERE (id=1) ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mTimeline Load (0.1ms)[0m  SELECT "timelines".* FROM "timelines" WHERE (user_id=1)
all size 0
  Rendered timelines/index.json.jbuilder (0.7ms)
Completed 200 OK in 15ms (Views: 4.8ms | ActiveRecord: 1.3ms)


Started GET "/countries.json" for 127.0.0.1 at 2014-03-28 15:17:36 +0900
Processing by CountriesController#index as JSON
  [1m[36mCountry Load (0.7ms)[0m  [1mSELECT "countries".* FROM "countries"[0m
  Rendered countries/index.json.jbuilder (2.0ms)
Completed 200 OK in 7ms (Views: 3.8ms | ActiveRecord: 0.9ms)


Started GET "/friendships.json" for 127.0.0.1 at 2014-03-28 15:17:37 +0900
Processing by FriendshipsController#index as JSON
-------------->index Friendship session 1
  [1m[35mFriendship Load (0.2ms)[0m  SELECT id,friend_id FROM "friendships" WHERE "friendships"."user_id" = 1
  Rendered friendships/index.json.jbuilder (0.4ms)
Completed 200 OK in 5ms (Views: 3.4ms | ActiveRecord: 0.2ms)


Started GET "/follower.json" for 127.0.0.1 at 2014-03-28 15:17:37 +0900
Processing by FriendshipsController#follower as JSON
-------------->follower session 1
  [1m[36mFriendship Load (0.5ms)[0m  [1mSELECT id,user_id FROM "friendships" WHERE "friendships"."friend_id" = 1[0m
[]
  Rendered friendships/follower.json.jbuilder (0.4ms)
Completed 200 OK in 5ms (Views: 2.8ms | ActiveRecord: 0.5ms)


Started GET "/countries.json" for 127.0.0.1 at 2014-03-28 15:18:09 +0900
Processing by CountriesController#index as JSON
  [1m[35mCountry Load (0.2ms)[0m  SELECT "countries".* FROM "countries"
  Rendered countries/index.json.jbuilder (0.7ms)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.2ms)


Started POST "/logins.json" for 127.0.0.1 at 2014-03-28 15:20:01 +0900
Processing by LoginsController#create as JSON
  Parameters: {"username"=>"admin", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."username" = 'admin' ORDER BY "users"."id" ASC LIMIT 1[0m
registered!! UserID1
  Rendered text template (0.0ms)
Completed 200 OK in 2ms (Views: 0.3ms | ActiveRecord: 0.2ms)


Started GET "/users/1.json" for 127.0.0.1 at 2014-03-28 15:20:01 +0900
Processing by UsersController#show as JSON
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "timelines" WHERE (user_id=1)[0m
  Rendered users/show.json.jbuilder (0.2ms)
Completed 200 OK in 5ms (Views: 3.1ms | ActiveRecord: 0.3ms)


Started GET "/pictures.json" for 127.0.0.1 at 2014-03-28 15:20:01 +0900
Processing by PicturesController#index as JSON
  [1m[35mPicture Load (0.1ms)[0m  SELECT "pictures".* FROM "pictures" ORDER BY id desc LIMIT 15 OFFSET 0
  Rendered pictures/index.json.jbuilder (0.6ms)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.1ms)


Started GET "/timelines.json?offset=0" for 127.0.0.1 at 2014-03-28 15:20:01 +0900
Processing by TimelinesController#index as JSON
  Parameters: {"offset"=>"0"}
-------------->index session 1
-------------->offset 0
offset 0
offset 0 not -1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "friendships" WHERE (user_id=1)[0m
0
  [1m[35mFriendship Load (0.2ms)[0m  SELECT "friendships".* FROM "friendships" WHERE (user_id=1)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT username FROM "users" WHERE (id=1) ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT profileImage FROM "users" WHERE (id=1) ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mTimeline Load (0.2ms)[0m  [1mSELECT "timelines".* FROM "timelines" WHERE (user_id=1)[0m
all size 0
  Rendered timelines/index.json.jbuilder (0.1ms)
Completed 200 OK in 8ms (Views: 3.2ms | ActiveRecord: 1.0ms)


Started POST "/logins.json" for 127.0.0.1 at 2014-03-28 15:20:43 +0900
Processing by LoginsController#create as JSON
  Parameters: {"username"=>"admin", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."username" = 'admin' ORDER BY "users"."id" ASC LIMIT 1
registered!! UserID1
  Rendered text template (0.0ms)
Completed 200 OK in 2ms (Views: 0.4ms | ActiveRecord: 0.2ms)


Started GET "/users/1.json" for 127.0.0.1 at 2014-03-28 15:20:43 +0900
Processing by UsersController#show as JSON
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "timelines" WHERE (user_id=1)
  Rendered users/show.json.jbuilder (0.1ms)
Completed 200 OK in 5ms (Views: 2.7ms | ActiveRecord: 0.3ms)


Started GET "/pictures.json" for 127.0.0.1 at 2014-03-28 15:20:43 +0900
Processing by PicturesController#index as JSON
  [1m[36mPicture Load (0.2ms)[0m  [1mSELECT "pictures".* FROM "pictures" ORDER BY id desc LIMIT 15 OFFSET 0[0m
  Rendered pictures/index.json.jbuilder (0.8ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.2ms)


Started GET "/timelines.json?offset=0" for 127.0.0.1 at 2014-03-28 15:20:43 +0900
Processing by TimelinesController#index as JSON
  Parameters: {"offset"=>"0"}
-------------->index session 1
-------------->offset 0
offset 0
offset 0 not -1
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "friendships" WHERE (user_id=1)
0
  [1m[36mFriendship Load (0.2ms)[0m  [1mSELECT "friendships".* FROM "friendships" WHERE (user_id=1)[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT username FROM "users" WHERE (id=1) ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT profileImage FROM "users" WHERE (id=1) ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mTimeline Load (0.1ms)[0m  SELECT "timelines".* FROM "timelines" WHERE (user_id=1)
all size 0
  Rendered timelines/index.json.jbuilder (0.1ms)
Completed 200 OK in 6ms (Views: 2.3ms | ActiveRecord: 0.8ms)


Started GET "/timelines.json?offset=0" for 127.0.0.1 at 2014-03-28 15:20:50 +0900
Processing by TimelinesController#index as JSON
  Parameters: {"offset"=>"0"}
-------------->index session 1
-------------->offset 0
offset 0
offset 0 not -1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "friendships" WHERE (user_id=1)[0m
0
  [1m[35mFriendship Load (0.2ms)[0m  SELECT "friendships".* FROM "friendships" WHERE (user_id=1)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT username FROM "users" WHERE (id=1) ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT profileImage FROM "users" WHERE (id=1) ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mTimeline Load (0.1ms)[0m  [1mSELECT "timelines".* FROM "timelines" WHERE (user_id=1)[0m
all size 0
  Rendered timelines/index.json.jbuilder (0.1ms)
Completed 200 OK in 6ms (Views: 2.4ms | ActiveRecord: 0.6ms)


Started POST "/logins.json" for 127.0.0.1 at 2014-03-28 15:23:20 +0900
Processing by LoginsController#create as JSON
  Parameters: {"username"=>"admin", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."username" = 'admin' ORDER BY "users"."id" ASC LIMIT 1
registered!! UserID1
  Rendered text template (0.0ms)
Completed 200 OK in 2ms (Views: 0.3ms | ActiveRecord: 0.1ms)


Started GET "/users/1.json" for 127.0.0.1 at 2014-03-28 15:23:20 +0900
Processing by UsersController#show as JSON
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "timelines" WHERE (user_id=1)
  Rendered users/show.json.jbuilder (0.1ms)
Completed 200 OK in 4ms (Views: 2.3ms | ActiveRecord: 0.2ms)


Started GET "/pictures.json" for 127.0.0.1 at 2014-03-28 15:23:20 +0900
Processing by PicturesController#index as JSON
  [1m[36mPicture Load (0.1ms)[0m  [1mSELECT "pictures".* FROM "pictures" ORDER BY id desc LIMIT 15 OFFSET 0[0m
  Rendered pictures/index.json.jbuilder (0.7ms)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.1ms)


Started GET "/timelines.json?offset=0" for 127.0.0.1 at 2014-03-28 15:23:20 +0900
Processing by TimelinesController#index as JSON
  Parameters: {"offset"=>"0"}
-------------->index session 1
-------------->offset 0
offset 0
offset 0 not -1
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "friendships" WHERE (user_id=1)
0
  [1m[36mFriendship Load (0.2ms)[0m  [1mSELECT "friendships".* FROM "friendships" WHERE (user_id=1)[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT username FROM "users" WHERE (id=1) ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT profileImage FROM "users" WHERE (id=1) ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mTimeline Load (0.2ms)[0m  SELECT "timelines".* FROM "timelines" WHERE (user_id=1)
all size 0
  Rendered timelines/index.json.jbuilder (0.2ms)
Completed 200 OK in 8ms (Views: 3.3ms | ActiveRecord: 0.9ms)


Started POST "/logins.json" for 127.0.0.1 at 2014-03-28 15:23:53 +0900
Processing by LoginsController#create as JSON
  Parameters: {"username"=>"admin", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."username" = 'admin' ORDER BY "users"."id" ASC LIMIT 1[0m
registered!! UserID1
  Rendered text template (0.0ms)
Completed 200 OK in 2ms (Views: 0.3ms | ActiveRecord: 0.1ms)


Started GET "/users/1.json" for 127.0.0.1 at 2014-03-28 15:23:53 +0900
Processing by UsersController#show as JSON
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "timelines" WHERE (user_id=1)[0m
  Rendered users/show.json.jbuilder (0.1ms)
Completed 200 OK in 4ms (Views: 2.6ms | ActiveRecord: 0.3ms)


Started GET "/pictures.json" for 127.0.0.1 at 2014-03-28 15:23:53 +0900
Processing by PicturesController#index as JSON
  [1m[35mPicture Load (0.2ms)[0m  SELECT "pictures".* FROM "pictures" ORDER BY id desc LIMIT 15 OFFSET 0
  Rendered pictures/index.json.jbuilder (1.0ms)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.2ms)


Started GET "/timelines.json?offset=0" for 127.0.0.1 at 2014-03-28 15:23:53 +0900
Processing by TimelinesController#index as JSON
  Parameters: {"offset"=>"0"}
-------------->index session 1
-------------->offset 0
offset 0
offset 0 not -1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "friendships" WHERE (user_id=1)[0m
0
  [1m[35mFriendship Load (0.2ms)[0m  SELECT "friendships".* FROM "friendships" WHERE (user_id=1)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT username FROM "users" WHERE (id=1) ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT profileImage FROM "users" WHERE (id=1) ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mTimeline Load (0.2ms)[0m  [1mSELECT "timelines".* FROM "timelines" WHERE (user_id=1)[0m
all size 0
  Rendered timelines/index.json.jbuilder (0.2ms)
Completed 200 OK in 9ms (Views: 4.2ms | ActiveRecord: 0.9ms)


Started POST "/logins.json" for 127.0.0.1 at 2014-03-28 15:24:46 +0900
Processing by LoginsController#create as JSON
  Parameters: {"username"=>"admin", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."username" = 'admin' ORDER BY "users"."id" ASC LIMIT 1
registered!! UserID1
  Rendered text template (0.0ms)
Completed 200 OK in 2ms (Views: 0.3ms | ActiveRecord: 0.1ms)


Started GET "/users/1.json" for 127.0.0.1 at 2014-03-28 15:24:46 +0900
Processing by UsersController#show as JSON
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "timelines" WHERE (user_id=1)
  Rendered users/show.json.jbuilder (0.2ms)
Completed 200 OK in 6ms (Views: 4.3ms | ActiveRecord: 0.2ms)


Started GET "/pictures.json" for 127.0.0.1 at 2014-03-28 15:24:46 +0900
Processing by PicturesController#index as JSON
  [1m[36mPicture Load (0.2ms)[0m  [1mSELECT "pictures".* FROM "pictures" ORDER BY id desc LIMIT 15 OFFSET 0[0m
  Rendered pictures/index.json.jbuilder (0.7ms)
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.2ms)


Started GET "/timelines.json?offset=0" for 127.0.0.1 at 2014-03-28 15:24:46 +0900
Processing by TimelinesController#index as JSON
  Parameters: {"offset"=>"0"}
-------------->index session 1
-------------->offset 0
offset 0
offset 0 not -1
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "friendships" WHERE (user_id=1)
0
  [1m[36mFriendship Load (0.2ms)[0m  [1mSELECT "friendships".* FROM "friendships" WHERE (user_id=1)[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT username FROM "users" WHERE (id=1) ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT profileImage FROM "users" WHERE (id=1) ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mTimeline Load (0.2ms)[0m  SELECT "timelines".* FROM "timelines" WHERE (user_id=1)
all size 0
  Rendered timelines/index.json.jbuilder (0.1ms)
Completed 200 OK in 19ms (Views: 14.4ms | ActiveRecord: 0.9ms)


Started GET "/timelines.json?offset=0" for 127.0.0.1 at 2014-03-28 15:25:12 +0900
Processing by TimelinesController#index as JSON
  Parameters: {"offset"=>"0"}
-------------->index session 1
-------------->offset 0
offset 0
offset 0 not -1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "friendships" WHERE (user_id=1)[0m
0
  [1m[35mFriendship Load (0.1ms)[0m  SELECT "friendships".* FROM "friendships" WHERE (user_id=1)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT username FROM "users" WHERE (id=1) ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT profileImage FROM "users" WHERE (id=1) ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mTimeline Load (0.1ms)[0m  [1mSELECT "timelines".* FROM "timelines" WHERE (user_id=1)[0m
all size 0
  Rendered timelines/index.json.jbuilder (0.1ms)
Completed 200 OK in 5ms (Views: 2.1ms | ActiveRecord: 0.6ms)


Started GET "/countries.json" for 127.0.0.1 at 2014-03-28 15:25:20 +0900
Processing by CountriesController#index as JSON
  [1m[35mCountry Load (0.1ms)[0m  SELECT "countries".* FROM "countries"
  Rendered countries/index.json.jbuilder (0.6ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.1ms)


Started GET "/friendships.json" for 127.0.0.1 at 2014-03-28 15:25:20 +0900
Processing by FriendshipsController#index as JSON
-------------->index Friendship session 1
  [1m[36mFriendship Load (0.2ms)[0m  [1mSELECT id,friend_id FROM "friendships" WHERE "friendships"."user_id" = 1[0m
  Rendered friendships/index.json.jbuilder (0.1ms)
Completed 200 OK in 4ms (Views: 2.4ms | ActiveRecord: 0.2ms)


Started GET "/follower.json" for 127.0.0.1 at 2014-03-28 15:25:20 +0900
Processing by FriendshipsController#follower as JSON
-------------->follower session 1
  [1m[35mFriendship Load (0.1ms)[0m  SELECT id,user_id FROM "friendships" WHERE "friendships"."friend_id" = 1
[]
  Rendered friendships/follower.json.jbuilder (0.1ms)
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.1ms)


Started POST "/pictures.json" for 127.0.0.1 at 2014-03-28 15:26:26 +0900
Processing by PicturesController#create as JSON
  Parameters: {"picture"=>#<ActionDispatch::Http::UploadedFile:0x007feb3b467930 @tempfile=#<Tempfile:/var/folders/mt/rwjrt4y10jn92lx246j_s4j00000gn/T/RackMultipart20140328-4335-1rw4rmr>, @original_filename="pic.png", @content_type="image/png", @headers="Content-Disposition: form-data; name=\"picture\"; filename=\"pic.png\"\r\nContent-Type: image/png\r\n">}
2303c6aa14691f4ce690287ed15bd7ac63847872.png
-------------->Picture session 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.1ms)[0m  INSERT INTO "pictures" ("created_at", "picture_url", "updated_at") VALUES (?, ?, ?)  [["created_at", Fri, 28 Mar 2014 06:26:26 UTC +00:00], ["picture_url", "files/2303c6aa14691f4ce690287ed15bd7ac63847872.png"], ["updated_at", Fri, 28 Mar 2014 06:26:26 UTC +00:00]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  Rendered text template (0.0ms)
Completed 200 OK in 26ms (Views: 0.4ms | ActiveRecord: 3.5ms)


Started POST "/timelines.json" for 127.0.0.1 at 2014-03-28 15:26:26 +0900
Processing by TimelinesController#create as JSON
  Parameters: {"timeline"=>{"text"=>"Hi my name satoshi", "time"=>"2014-03-28 15:26:26", "picture_id"=>"1"}, "country"=>"Japan", "type"=>"1"}
-------------->timelines session 1
picture_id 1
  [1m[35mCountry Load (0.2ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."country_name" = 'Japan' ORDER BY "countries"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "countries" ("country_name", "created_at", "updated_at") VALUES (?, ?, ?)  [["country_name", "Japan"], ["created_at", Fri, 28 Mar 2014 06:26:26 UTC +00:00], ["updated_at", Fri, 28 Mar 2014 06:26:26 UTC +00:00]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35mPicture Load (0.3ms)[0m  SELECT "pictures".* FROM "pictures" WHERE "pictures"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "pictures" SET "country_id" = ?, "category_id" = ?, "updated_at" = ? WHERE "pictures"."id" = 1  [["country_id", 1], ["category_id", 1], ["updated_at", Fri, 28 Mar 2014 06:26:26 UTC +00:00]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
new country id1
cccc JapanTTTT
idid 1
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO "timelines" ("created_at", "picture_id", "text", "time", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Fri, 28 Mar 2014 06:26:26 UTC +00:00], ["picture_id", 1], ["text", "Hi my name satoshi"], ["time", Fri, 28 Mar 2014 15:26:26 UTC +00:00], ["updated_at", Fri, 28 Mar 2014 06:26:26 UTC +00:00], ["user_id", 1]]
  [1m[35m (1.0ms)[0m  commit transaction
  Rendered text template (0.0ms)
Completed 201 Created in 48ms (Views: 0.6ms | ActiveRecord: 6.2ms)


Started GET "/timelines.json?offset=0" for 127.0.0.1 at 2014-03-28 15:26:29 +0900
Processing by TimelinesController#index as JSON
  Parameters: {"offset"=>"0"}
-------------->index session 1
-------------->offset 0
offset 0
offset 0 not -1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "friendships" WHERE (user_id=1)[0m
0
  [1m[35mFriendship Load (0.2ms)[0m  SELECT "friendships".* FROM "friendships" WHERE (user_id=1)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT username FROM "users" WHERE (id=1) ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT profileImage FROM "users" WHERE (id=1) ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mTimeline Load (0.5ms)[0m  [1mSELECT "timelines".* FROM "timelines" WHERE (user_id=1)[0m
  [1m[35mPicture Load (0.3ms)[0m  SELECT picture_url,id FROM "pictures" WHERE (id=1) ORDER BY "pictures"."id" ASC LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "likes" WHERE "likes"."picture_id" = 1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "comments" WHERE "comments"."picture_id" = 1
  [1m[36mLike Load (1.0ms)[0m  [1mSELECT "likes".* FROM "likes" WHERE "likes"."user_id" = 1 AND "likes"."picture_id" = 1 ORDER BY "likes"."id" ASC LIMIT 1[0m
{:id=>"1", :user_id=>"1", :text=>"Hi my name satoshi", :time=>"2014-03-28 15:26:26 UTC", :username=>"admin", :profileImage=>"profile/profile71a2062b2f85d588037ea1636fd2ceaef8480016.png", :picture_url=>"files/2303c6aa14691f4ce690287ed15bd7ac63847872.png", :picture_id=>"1", :totalLike=>"0", :totalComment=>"0", :likeStatus=>"-1"}
all size 1
  Rendered timelines/index.json.jbuilder (0.8ms)
Completed 200 OK in 28ms (Views: 3.9ms | ActiveRecord: 3.9ms)


Started GET "/timelines.json?offset=5" for 127.0.0.1 at 2014-03-28 15:26:37 +0900
Processing by TimelinesController#index as JSON
  Parameters: {"offset"=>"5"}
-------------->index session 1
-------------->offset 5
offset 5
offset 5 not -1
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "friendships" WHERE (user_id=1)
0
  [1m[36mFriendship Load (0.2ms)[0m  [1mSELECT "friendships".* FROM "friendships" WHERE (user_id=1)[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT username FROM "users" WHERE (id=1) ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT profileImage FROM "users" WHERE (id=1) ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mTimeline Load (0.2ms)[0m  SELECT "timelines".* FROM "timelines" WHERE (user_id=1)
  [1m[36mPicture Load (0.2ms)[0m  [1mSELECT picture_url,id FROM "pictures" WHERE (id=1) ORDER BY "pictures"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "likes" WHERE "likes"."picture_id" = 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "comments" WHERE "comments"."picture_id" = 1[0m
  [1m[35mLike Load (0.3ms)[0m  SELECT "likes".* FROM "likes" WHERE "likes"."user_id" = 1 AND "likes"."picture_id" = 1 ORDER BY "likes"."id" ASC LIMIT 1
{:id=>"1", :user_id=>"1", :text=>"Hi my name satoshi", :time=>"2014-03-28 15:26:26 UTC", :username=>"admin", :profileImage=>"profile/profile71a2062b2f85d588037ea1636fd2ceaef8480016.png", :picture_url=>"files/2303c6aa14691f4ce690287ed15bd7ac63847872.png", :picture_id=>"1", :totalLike=>"0", :totalComment=>"0", :likeStatus=>"-1"}
all size 1
  Rendered timelines/index.json.jbuilder (0.2ms)
Completed 200 OK in 13ms (Views: 2.9ms | ActiveRecord: 1.9ms)


Started POST "/likes.json" for 127.0.0.1 at 2014-03-28 15:26:42 +0900
Processing by LikesController#create as JSON
  Parameters: {"like"=>{"picture_id"=>"1"}}
  [1m[36mLike Load (0.2ms)[0m  [1mSELECT "likes".* FROM "likes" WHERE "likes"."picture_id" = 1 AND "likes"."user_id" = 1 ORDER BY "likes"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "likes" ("created_at", "picture_id", "updated_at", "user_id") VALUES (?, ?, ?, ?)[0m  [["created_at", Fri, 28 Mar 2014 06:26:42 UTC +00:00], ["picture_id", 1], ["updated_at", Fri, 28 Mar 2014 06:26:42 UTC +00:00], ["user_id", 1]]
  [1m[35m (0.9ms)[0m  commit transaction
  Rendered text template (0.0ms)
Completed 200 OK in 18ms (Views: 0.8ms | ActiveRecord: 2.2ms)


Started GET "/likes.json?picture_id=1" for 127.0.0.1 at 2014-03-28 15:26:44 +0900
Processing by LikesController#index as JSON
  Parameters: {"picture_id"=>"1"}
picture_id 1
  [1m[36mLike Load (0.2ms)[0m  [1mSELECT "likes".* FROM "likes" WHERE "likes"."picture_id" = 1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 ORDER BY "users"."id" ASC LIMIT 1
  Rendered likes/index.json.jbuilder (0.8ms)
Completed 200 OK in 9ms (Views: 6.0ms | ActiveRecord: 0.4ms)


Started GET "/comments.json?picture_id=1" for 127.0.0.1 at 2014-03-28 15:26:47 +0900
Processing by CommentsController#index as JSON
  Parameters: {"picture_id"=>"1"}
picture_id 1
  [1m[36mComment Load (0.2ms)[0m  [1mSELECT "comments".* FROM "comments" WHERE "comments"."picture_id" = 1[0m
  Rendered comments/index.json.jbuilder (0.6ms)
Completed 200 OK in 7ms (Views: 4.4ms | ActiveRecord: 0.2ms)


Started POST "/comments.json" for 127.0.0.1 at 2014-03-28 15:27:04 +0900
Processing by CommentsController#create as JSON
  Parameters: {"comment"=>{"text"=>"こんにちは", "time"=>"2014-03-28 15:27:04", "picture_id"=>"1"}}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "comments" ("created_at", "picture_id", "text", "time", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Fri, 28 Mar 2014 06:27:04 UTC +00:00], ["picture_id", 1], ["text", "こんにちは"], ["time", Fri, 28 Mar 2014 15:27:04 UTC +00:00], ["updated_at", Fri, 28 Mar 2014 06:27:04 UTC +00:00], ["user_id", 1]]
  [1m[35m (1.4ms)[0m  commit transaction
  Rendered comments/show.json.jbuilder (0.9ms)
Completed 201 Created in 30ms (Views: 8.6ms | ActiveRecord: 2.8ms)


Started GET "/countries/1.json" for 127.0.0.1 at 2014-03-28 15:27:18 +0900
Processing by CountriesController#show as JSON
  Parameters: {"id"=>"1"}
user id ----> 1
  [1m[36m (0.4ms)[0m  [1mselect distinct(country_id) as id,country_name 
 from timelines as T,pictures as P,countries as C 
 where T.user_id =1 and T.picture_id = P.id and P.country_id = C.id[0m
id 1 country_name Japan
  Rendered countries/show.json.jbuilder (0.5ms)
Completed 200 OK in 634ms (Views: 632.9ms | ActiveRecord: 0.4ms)


Started POST "/getPictureByCountry.json" for 127.0.0.1 at 2014-03-28 15:27:18 +0900
Processing by PicturesController#getPictureByCountry as JSON
  Parameters: {"id"=>"-1", "owner"=>"1"}
  [1m[35mTimeline Load (0.2ms)[0m  SELECT "timelines".* FROM "timelines" WHERE "timelines"."user_id" = 1 ORDER BY id desc
  [1m[36mPicture Load (0.1ms)[0m  [1mSELECT "pictures".* FROM "pictures" WHERE "pictures"."id" = 1 ORDER BY "pictures"."id" ASC LIMIT 1[0m
  Rendered pictures/getPictureByCountry.json.jbuilder (0.5ms)
Completed 200 OK in 5ms (Views: 2.9ms | ActiveRecord: 0.3ms)


Started GET "/follower.json" for 127.0.0.1 at 2014-03-28 15:27:24 +0900
Processing by FriendshipsController#follower as JSON
-------------->follower session 1
  [1m[35mFriendship Load (0.1ms)[0m  SELECT id,user_id FROM "friendships" WHERE "friendships"."friend_id" = 1
[]
  Rendered friendships/follower.json.jbuilder (0.1ms)
Completed 200 OK in 4ms (Views: 2.1ms | ActiveRecord: 0.1ms)


Started GET "/friendships.json" for 127.0.0.1 at 2014-03-28 15:27:27 +0900
Processing by FriendshipsController#index as JSON
-------------->index Friendship session 1
  [1m[36mFriendship Load (0.1ms)[0m  [1mSELECT id,friend_id FROM "friendships" WHERE "friendships"."user_id" = 1[0m
  Rendered friendships/index.json.jbuilder (0.1ms)
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.1ms)


Started DELETE "/likes/1.json" for 127.0.0.1 at 2014-03-28 15:29:39 +0900
Processing by LikesController#destroy as JSON
  Parameters: {"id"=>"1"}
  [1m[35mLike Load (0.2ms)[0m  SELECT "likes".* FROM "likes" WHERE "likes"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "likes" WHERE "likes"."id" = ?  [["id", 1]]
  [1m[36m (2.6ms)[0m  [1mcommit transaction[0m
  Rendered text template (0.0ms)
Completed 200 OK in 6ms (Views: 0.4ms | ActiveRecord: 3.3ms)


Started POST "/likes.json" for 127.0.0.1 at 2014-03-28 15:29:39 +0900
Processing by LikesController#create as JSON
  Parameters: {"like"=>{"picture_id"=>"1"}}
  [1m[35mLike Load (0.2ms)[0m  SELECT "likes".* FROM "likes" WHERE "likes"."picture_id" = 1 AND "likes"."user_id" = 1 ORDER BY "likes"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "likes" ("created_at", "picture_id", "updated_at", "user_id") VALUES (?, ?, ?, ?)  [["created_at", Fri, 28 Mar 2014 06:29:39 UTC +00:00], ["picture_id", 1], ["updated_at", Fri, 28 Mar 2014 06:29:39 UTC +00:00], ["user_id", 1]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  Rendered text template (0.0ms)
Completed 200 OK in 7ms (Views: 0.3ms | ActiveRecord: 1.8ms)


Started DELETE "/likes/2.json" for 127.0.0.1 at 2014-03-28 15:29:41 +0900
Processing by LikesController#destroy as JSON
  Parameters: {"id"=>"2"}
  [1m[35mLike Load (0.1ms)[0m  SELECT "likes".* FROM "likes" WHERE "likes"."id" = ? LIMIT 1  [["id", "2"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "likes" WHERE "likes"."id" = ?  [["id", 2]]
  [1m[36m (2.3ms)[0m  [1mcommit transaction[0m
  Rendered text template (0.0ms)
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 2.7ms)


Started POST "/likes.json" for 127.0.0.1 at 2014-03-28 15:29:45 +0900
Processing by LikesController#create as JSON
  Parameters: {"like"=>{"picture_id"=>"1"}}
  [1m[35mLike Load (0.1ms)[0m  SELECT "likes".* FROM "likes" WHERE "likes"."picture_id" = 1 AND "likes"."user_id" = 1 ORDER BY "likes"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "likes" ("created_at", "picture_id", "updated_at", "user_id") VALUES (?, ?, ?, ?)  [["created_at", Fri, 28 Mar 2014 06:29:45 UTC +00:00], ["picture_id", 1], ["updated_at", Fri, 28 Mar 2014 06:29:45 UTC +00:00], ["user_id", 1]]
  [1m[36m (3.3ms)[0m  [1mcommit transaction[0m
  Rendered text template (0.0ms)
Completed 200 OK in 6ms (Views: 0.3ms | ActiveRecord: 3.8ms)
  [1m[35mUser Load (27.3ms)[0m  SELECT "users".* FROM "users"


Started GET "/comments.json?picture_id=1" for 127.0.0.1 at 2014-03-28 15:31:45 +0900
Processing by CommentsController#index as JSON
  Parameters: {"picture_id"=>"1"}
picture_id 1
  [1m[35mComment Load (0.2ms)[0m  SELECT "comments".* FROM "comments" WHERE "comments"."picture_id" = 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered comments/index.json.jbuilder (0.4ms)
Completed 200 OK in 7ms (Views: 3.3ms | ActiveRecord: 0.4ms)


Started POST "/comments.json" for 127.0.0.1 at 2014-03-28 15:31:51 +0900
Processing by CommentsController#create as JSON
  Parameters: {"comment"=>{"text"=>"hohohoho", "time"=>"2014-03-28 15:31:50", "picture_id"=>"1"}}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "comments" ("created_at", "picture_id", "text", "time", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Fri, 28 Mar 2014 06:31:51 UTC +00:00], ["picture_id", 1], ["text", "hohohoho"], ["time", Fri, 28 Mar 2014 15:31:50 UTC +00:00], ["updated_at", Fri, 28 Mar 2014 06:31:51 UTC +00:00], ["user_id", 1]]
  [1m[35m (2.6ms)[0m  commit transaction
  Rendered comments/show.json.jbuilder (0.2ms)
Completed 201 Created in 9ms (Views: 2.8ms | ActiveRecord: 3.2ms)


Started POST "/logins.json" for 127.0.0.1 at 2014-03-28 15:36:54 +0900
Processing by LoginsController#create as JSON
  Parameters: {"username"=>"admin", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."username" = 'admin' ORDER BY "users"."id" ASC LIMIT 1[0m
registered!! UserID1
  Rendered text template (0.0ms)
Completed 200 OK in 2ms (Views: 0.3ms | ActiveRecord: 0.2ms)


Started GET "/users/1.json" for 127.0.0.1 at 2014-03-28 15:36:54 +0900
Processing by UsersController#show as JSON
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "timelines" WHERE (user_id=1)[0m
  Rendered users/show.json.jbuilder (0.2ms)
Completed 200 OK in 5ms (Views: 3.0ms | ActiveRecord: 0.3ms)


Started GET "/pictures.json" for 127.0.0.1 at 2014-03-28 15:36:54 +0900
Processing by PicturesController#index as JSON
  [1m[35mPicture Load (0.2ms)[0m  SELECT "pictures".* FROM "pictures" ORDER BY id desc LIMIT 15 OFFSET 0
  Rendered pictures/index.json.jbuilder (0.9ms)
Completed 200 OK in 4ms (Views: 3.5ms | ActiveRecord: 0.2ms)


Started GET "/timelines.json?offset=0" for 127.0.0.1 at 2014-03-28 15:36:54 +0900
Processing by TimelinesController#index as JSON
  Parameters: {"offset"=>"0"}
-------------->index session 1
-------------->offset 0
offset 0
offset 0 not -1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "friendships" WHERE (user_id=1)[0m
0
  [1m[35mFriendship Load (0.2ms)[0m  SELECT "friendships".* FROM "friendships" WHERE (user_id=1)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT username FROM "users" WHERE (id=1) ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT profileImage FROM "users" WHERE (id=1) ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mTimeline Load (0.2ms)[0m  [1mSELECT "timelines".* FROM "timelines" WHERE (user_id=1)[0m
  [1m[35mPicture Load (0.2ms)[0m  SELECT picture_url,id FROM "pictures" WHERE (id=1) ORDER BY "pictures"."id" ASC LIMIT 1
  [1m[36m (0.9ms)[0m  [1mSELECT COUNT(*) FROM "likes" WHERE "likes"."picture_id" = 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "comments" WHERE "comments"."picture_id" = 1
  [1m[36mLike Load (0.2ms)[0m  [1mSELECT "likes".* FROM "likes" WHERE "likes"."user_id" = 1 AND "likes"."picture_id" = 1 ORDER BY "likes"."id" ASC LIMIT 1[0m
{:id=>"1", :user_id=>"1", :text=>"Hi my name satoshi", :time=>"2014-03-28 15:26:26 UTC", :username=>"admin", :profileImage=>"profile/profile71a2062b2f85d588037ea1636fd2ceaef8480016.png", :picture_url=>"files/2303c6aa14691f4ce690287ed15bd7ac63847872.png", :picture_id=>"1", :totalLike=>"1", :totalComment=>"2", :likeStatus=>"3"}
all size 1
  Rendered timelines/index.json.jbuilder (0.6ms)
Completed 200 OK in 15ms (Views: 3.7ms | ActiveRecord: 2.5ms)


Started GET "/timelines.json?offset=0" for 127.0.0.1 at 2014-03-28 15:37:06 +0900
Processing by TimelinesController#index as JSON
  Parameters: {"offset"=>"0"}
-------------->index session 1
-------------->offset 0
offset 0
offset 0 not -1
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "friendships" WHERE (user_id=1)
0
  [1m[36mFriendship Load (0.1ms)[0m  [1mSELECT "friendships".* FROM "friendships" WHERE (user_id=1)[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT username FROM "users" WHERE (id=1) ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT profileImage FROM "users" WHERE (id=1) ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mTimeline Load (0.2ms)[0m  SELECT "timelines".* FROM "timelines" WHERE (user_id=1)
  [1m[36mPicture Load (0.1ms)[0m  [1mSELECT picture_url,id FROM "pictures" WHERE (id=1) ORDER BY "pictures"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "likes" WHERE "likes"."picture_id" = 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "comments" WHERE "comments"."picture_id" = 1[0m
  [1m[35mLike Load (0.3ms)[0m  SELECT "likes".* FROM "likes" WHERE "likes"."user_id" = 1 AND "likes"."picture_id" = 1 ORDER BY "likes"."id" ASC LIMIT 1
{:id=>"1", :user_id=>"1", :text=>"Hi my name satoshi", :time=>"2014-03-28 15:26:26 UTC", :username=>"admin", :profileImage=>"profile/profile71a2062b2f85d588037ea1636fd2ceaef8480016.png", :picture_url=>"files/2303c6aa14691f4ce690287ed15bd7ac63847872.png", :picture_id=>"1", :totalLike=>"1", :totalComment=>"2", :likeStatus=>"3"}
all size 1
  Rendered timelines/index.json.jbuilder (0.5ms)
Completed 200 OK in 14ms (Views: 3.0ms | ActiveRecord: 1.6ms)


Started GET "/timelines.json?offset=5" for 127.0.0.1 at 2014-03-28 15:37:11 +0900
Processing by TimelinesController#index as JSON
  Parameters: {"offset"=>"5"}
-------------->index session 1
-------------->offset 5
offset 5
offset 5 not -1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "friendships" WHERE (user_id=1)[0m
0
  [1m[35mFriendship Load (0.2ms)[0m  SELECT "friendships".* FROM "friendships" WHERE (user_id=1)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT username FROM "users" WHERE (id=1) ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT profileImage FROM "users" WHERE (id=1) ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mTimeline Load (0.2ms)[0m  [1mSELECT "timelines".* FROM "timelines" WHERE (user_id=1)[0m
  [1m[35mPicture Load (0.1ms)[0m  SELECT picture_url,id FROM "pictures" WHERE (id=1) ORDER BY "pictures"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "likes" WHERE "likes"."picture_id" = 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "comments" WHERE "comments"."picture_id" = 1
  [1m[36mLike Load (0.2ms)[0m  [1mSELECT "likes".* FROM "likes" WHERE "likes"."user_id" = 1 AND "likes"."picture_id" = 1 ORDER BY "likes"."id" ASC LIMIT 1[0m
{:id=>"1", :user_id=>"1", :text=>"Hi my name satoshi", :time=>"2014-03-28 15:26:26 UTC", :username=>"admin", :profileImage=>"profile/profile71a2062b2f85d588037ea1636fd2ceaef8480016.png", :picture_url=>"files/2303c6aa14691f4ce690287ed15bd7ac63847872.png", :picture_id=>"1", :totalLike=>"1", :totalComment=>"2", :likeStatus=>"3"}
all size 1
  Rendered timelines/index.json.jbuilder (0.1ms)
Completed 200 OK in 11ms (Views: 2.6ms | ActiveRecord: 1.5ms)


Started POST "/logins.json" for 127.0.0.1 at 2014-03-28 15:37:46 +0900
Processing by LoginsController#create as JSON
  Parameters: {"username"=>"admin", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."username" = 'admin' ORDER BY "users"."id" ASC LIMIT 1
registered!! UserID1
  Rendered text template (0.0ms)
Completed 200 OK in 2ms (Views: 0.3ms | ActiveRecord: 0.2ms)


Started GET "/users/1.json" for 127.0.0.1 at 2014-03-28 15:37:46 +0900
Processing by UsersController#show as JSON
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "timelines" WHERE (user_id=1)
  Rendered users/show.json.jbuilder (0.1ms)
Completed 200 OK in 4ms (Views: 2.2ms | ActiveRecord: 0.2ms)


Started GET "/pictures.json" for 127.0.0.1 at 2014-03-28 15:37:46 +0900
Processing by PicturesController#index as JSON
  [1m[36mPicture Load (0.2ms)[0m  [1mSELECT "pictures".* FROM "pictures" ORDER BY id desc LIMIT 15 OFFSET 0[0m
  Rendered pictures/index.json.jbuilder (0.8ms)
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.2ms)


Started GET "/timelines.json?offset=0" for 127.0.0.1 at 2014-03-28 15:37:46 +0900
Processing by TimelinesController#index as JSON
  Parameters: {"offset"=>"0"}
-------------->index session 1
-------------->offset 0
offset 0
offset 0 not -1
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "friendships" WHERE (user_id=1)
0
  [1m[36mFriendship Load (0.2ms)[0m  [1mSELECT "friendships".* FROM "friendships" WHERE (user_id=1)[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT username FROM "users" WHERE (id=1) ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT profileImage FROM "users" WHERE (id=1) ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mTimeline Load (0.1ms)[0m  SELECT "timelines".* FROM "timelines" WHERE (user_id=1)
  [1m[36mPicture Load (0.2ms)[0m  [1mSELECT picture_url,id FROM "pictures" WHERE (id=1) ORDER BY "pictures"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "likes" WHERE "likes"."picture_id" = 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "comments" WHERE "comments"."picture_id" = 1[0m
  [1m[35mLike Load (0.2ms)[0m  SELECT "likes".* FROM "likes" WHERE "likes"."user_id" = 1 AND "likes"."picture_id" = 1 ORDER BY "likes"."id" ASC LIMIT 1
{:id=>"1", :user_id=>"1", :text=>"Hi my name satoshi", :time=>"2014-03-28 15:26:26 UTC", :username=>"admin", :profileImage=>"profile/profile71a2062b2f85d588037ea1636fd2ceaef8480016.png", :picture_url=>"files/2303c6aa14691f4ce690287ed15bd7ac63847872.png", :picture_id=>"1", :totalLike=>"1", :totalComment=>"2", :likeStatus=>"3"}
all size 1
  Rendered timelines/index.json.jbuilder (0.3ms)
Completed 200 OK in 10ms (Views: 2.6ms | ActiveRecord: 1.2ms)


Started POST "/logins.json" for 127.0.0.1 at 2014-03-28 15:38:04 +0900
Processing by LoginsController#create as JSON
  Parameters: {"username"=>"admin", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."username" = 'admin' ORDER BY "users"."id" ASC LIMIT 1[0m
registered!! UserID1
  Rendered text template (0.0ms)
Completed 200 OK in 2ms (Views: 0.3ms | ActiveRecord: 0.2ms)


Started GET "/users/1.json" for 127.0.0.1 at 2014-03-28 15:38:04 +0900
Processing by UsersController#show as JSON
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "timelines" WHERE (user_id=1)[0m
  Rendered users/show.json.jbuilder (0.1ms)
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.3ms)


Started GET "/pictures.json" for 127.0.0.1 at 2014-03-28 15:38:04 +0900
Processing by PicturesController#index as JSON
  [1m[35mPicture Load (0.1ms)[0m  SELECT "pictures".* FROM "pictures" ORDER BY id desc LIMIT 15 OFFSET 0
  Rendered pictures/index.json.jbuilder (0.7ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.1ms)


Started GET "/timelines.json?offset=0" for 127.0.0.1 at 2014-03-28 15:38:04 +0900
Processing by TimelinesController#index as JSON
  Parameters: {"offset"=>"0"}
-------------->index session 1
-------------->offset 0
offset 0
offset 0 not -1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "friendships" WHERE (user_id=1)[0m
0
  [1m[35mFriendship Load (0.2ms)[0m  SELECT "friendships".* FROM "friendships" WHERE (user_id=1)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT username FROM "users" WHERE (id=1) ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT profileImage FROM "users" WHERE (id=1) ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mTimeline Load (0.1ms)[0m  [1mSELECT "timelines".* FROM "timelines" WHERE (user_id=1)[0m
  [1m[35mPicture Load (0.1ms)[0m  SELECT picture_url,id FROM "pictures" WHERE (id=1) ORDER BY "pictures"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "likes" WHERE "likes"."picture_id" = 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "comments" WHERE "comments"."picture_id" = 1
  [1m[36mLike Load (0.1ms)[0m  [1mSELECT "likes".* FROM "likes" WHERE "likes"."user_id" = 1 AND "likes"."picture_id" = 1 ORDER BY "likes"."id" ASC LIMIT 1[0m
{:id=>"1", :user_id=>"1", :text=>"Hi my name satoshi", :time=>"2014-03-28 15:26:26 UTC", :username=>"admin", :profileImage=>"profile/profile71a2062b2f85d588037ea1636fd2ceaef8480016.png", :picture_url=>"files/2303c6aa14691f4ce690287ed15bd7ac63847872.png", :picture_id=>"1", :totalLike=>"1", :totalComment=>"2", :likeStatus=>"3"}
all size 1
  Rendered timelines/index.json.jbuilder (0.3ms)
Completed 200 OK in 8ms (Views: 2.1ms | ActiveRecord: 1.1ms)


Started GET "/comments.json?picture_id=1" for 127.0.0.1 at 2014-03-28 15:38:31 +0900
Processing by CommentsController#index as JSON
  Parameters: {"picture_id"=>"1"}
picture_id 1
  [1m[35mComment Load (0.2ms)[0m  SELECT "comments".* FROM "comments" WHERE "comments"."picture_id" = 1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 ORDER BY "users"."id" ASC LIMIT 1
  Rendered comments/index.json.jbuilder (0.4ms)
Completed 200 OK in 7ms (Views: 4.6ms | ActiveRecord: 0.4ms)


Started POST "/comments.json" for 127.0.0.1 at 2014-03-28 15:38:37 +0900
Processing by CommentsController#create as JSON
  Parameters: {"comment"=>{"text"=>"test", "time"=>"2014-03-28 15:38:37", "picture_id"=>"1"}}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.9ms)[0m  INSERT INTO "comments" ("created_at", "picture_id", "text", "time", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Fri, 28 Mar 2014 06:38:37 UTC +00:00], ["picture_id", 1], ["text", "test"], ["time", Fri, 28 Mar 2014 15:38:37 UTC +00:00], ["updated_at", Fri, 28 Mar 2014 06:38:37 UTC +00:00], ["user_id", 1]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  Rendered comments/show.json.jbuilder (0.4ms)
Completed 201 Created in 10ms (Views: 3.8ms | ActiveRecord: 3.8ms)


Started DELETE "/likes/3.json" for 127.0.0.1 at 2014-03-28 15:39:06 +0900
Processing by LikesController#destroy as JSON
  Parameters: {"id"=>"3"}
  [1m[35mLike Load (0.1ms)[0m  SELECT "likes".* FROM "likes" WHERE "likes"."id" = ? LIMIT 1  [["id", "3"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "likes" WHERE "likes"."id" = ?  [["id", 3]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  Rendered text template (0.0ms)
Completed 200 OK in 3ms (Views: 0.3ms | ActiveRecord: 1.4ms)


Started POST "/likes.json" for 127.0.0.1 at 2014-03-28 15:39:07 +0900
Processing by LikesController#create as JSON
  Parameters: {"like"=>{"picture_id"=>"1"}}
  [1m[35mLike Load (0.1ms)[0m  SELECT "likes".* FROM "likes" WHERE "likes"."picture_id" = 1 AND "likes"."user_id" = 1 ORDER BY "likes"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "likes" ("created_at", "picture_id", "updated_at", "user_id") VALUES (?, ?, ?, ?)  [["created_at", Fri, 28 Mar 2014 06:39:07 UTC +00:00], ["picture_id", 1], ["updated_at", Fri, 28 Mar 2014 06:39:07 UTC +00:00], ["user_id", 1]]
  [1m[36m (2.6ms)[0m  [1mcommit transaction[0m
  Rendered text template (0.0ms)
Completed 200 OK in 6ms (Views: 0.3ms | ActiveRecord: 3.1ms)


Started DELETE "/likes/4.json" for 127.0.0.1 at 2014-03-28 15:39:08 +0900
Processing by LikesController#destroy as JSON
  Parameters: {"id"=>"4"}
  [1m[35mLike Load (0.1ms)[0m  SELECT "likes".* FROM "likes" WHERE "likes"."id" = ? LIMIT 1  [["id", "4"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "likes" WHERE "likes"."id" = ?  [["id", 4]]
  [1m[36m (2.7ms)[0m  [1mcommit transaction[0m
  Rendered text template (0.0ms)
Completed 200 OK in 5ms (Views: 0.4ms | ActiveRecord: 3.1ms)


Started POST "/likes.json" for 127.0.0.1 at 2014-03-28 15:39:08 +0900
Processing by LikesController#create as JSON
  Parameters: {"like"=>{"picture_id"=>"1"}}
  [1m[35mLike Load (0.2ms)[0m  SELECT "likes".* FROM "likes" WHERE "likes"."picture_id" = 1 AND "likes"."user_id" = 1 ORDER BY "likes"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "likes" ("created_at", "picture_id", "updated_at", "user_id") VALUES (?, ?, ?, ?)  [["created_at", Fri, 28 Mar 2014 06:39:08 UTC +00:00], ["picture_id", 1], ["updated_at", Fri, 28 Mar 2014 06:39:08 UTC +00:00], ["user_id", 1]]
  [1m[36m (2.2ms)[0m  [1mcommit transaction[0m
  Rendered text template (0.0ms)
Completed 200 OK in 6ms (Views: 0.3ms | ActiveRecord: 2.9ms)


Started DELETE "/likes/5.json" for 127.0.0.1 at 2014-03-28 15:39:09 +0900
Processing by LikesController#destroy as JSON
  Parameters: {"id"=>"5"}
  [1m[35mLike Load (0.1ms)[0m  SELECT "likes".* FROM "likes" WHERE "likes"."id" = ? LIMIT 1  [["id", "5"]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "likes" WHERE "likes"."id" = ?  [["id", 5]]
  [1m[36m (2.6ms)[0m  [1mcommit transaction[0m
  Rendered text template (0.0ms)
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 3.1ms)


Started POST "/likes.json" for 127.0.0.1 at 2014-03-28 15:39:10 +0900
Processing by LikesController#create as JSON
  Parameters: {"like"=>{"picture_id"=>"1"}}
  [1m[35mLike Load (0.2ms)[0m  SELECT "likes".* FROM "likes" WHERE "likes"."picture_id" = 1 AND "likes"."user_id" = 1 ORDER BY "likes"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "likes" ("created_at", "picture_id", "updated_at", "user_id") VALUES (?, ?, ?, ?)  [["created_at", Fri, 28 Mar 2014 06:39:10 UTC +00:00], ["picture_id", 1], ["updated_at", Fri, 28 Mar 2014 06:39:10 UTC +00:00], ["user_id", 1]]
  [1m[36m (2.5ms)[0m  [1mcommit transaction[0m
  Rendered text template (0.0ms)
Completed 200 OK in 6ms (Views: 0.3ms | ActiveRecord: 3.1ms)


Started DELETE "/likes/6.json" for 127.0.0.1 at 2014-03-28 15:39:10 +0900
Processing by LikesController#destroy as JSON
  Parameters: {"id"=>"6"}
  [1m[35mLike Load (0.1ms)[0m  SELECT "likes".* FROM "likes" WHERE "likes"."id" = ? LIMIT 1  [["id", "6"]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "likes" WHERE "likes"."id" = ?  [["id", 6]]
  [1m[36m (2.5ms)[0m  [1mcommit transaction[0m
  Rendered text template (0.0ms)
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 2.9ms)


Started POST "/likes.json" for 127.0.0.1 at 2014-03-28 15:39:11 +0900
Processing by LikesController#create as JSON
  Parameters: {"like"=>{"picture_id"=>"1"}}
  [1m[35mLike Load (0.1ms)[0m  SELECT "likes".* FROM "likes" WHERE "likes"."picture_id" = 1 AND "likes"."user_id" = 1 ORDER BY "likes"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "likes" ("created_at", "picture_id", "updated_at", "user_id") VALUES (?, ?, ?, ?)  [["created_at", Fri, 28 Mar 2014 06:39:11 UTC +00:00], ["picture_id", 1], ["updated_at", Fri, 28 Mar 2014 06:39:11 UTC +00:00], ["user_id", 1]]
  [1m[36m (1.9ms)[0m  [1mcommit transaction[0m
  Rendered text template (0.0ms)
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 2.5ms)


Started POST "/pictures.json" for 127.0.0.1 at 2014-03-28 15:42:11 +0900
Processing by PicturesController#create as JSON
  Parameters: {"picture"=>#<ActionDispatch::Http::UploadedFile:0x007feb3b476368 @tempfile=#<Tempfile:/var/folders/mt/rwjrt4y10jn92lx246j_s4j00000gn/T/RackMultipart20140328-4335-ef7jrx>, @original_filename="pic.png", @content_type="image/png", @headers="Content-Disposition: form-data; name=\"picture\"; filename=\"pic.png\"\r\nContent-Type: image/png\r\n">}
011c9230c388374d1591813f82596940c825ca3e.png
-------------->Picture session 1
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "pictures" ("created_at", "picture_url", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Fri, 28 Mar 2014 06:42:12 UTC +00:00], ["picture_url", "files/011c9230c388374d1591813f82596940c825ca3e.png"], ["updated_at", Fri, 28 Mar 2014 06:42:12 UTC +00:00]]
  [1m[35m (1.0ms)[0m  commit transaction
  Rendered text template (0.0ms)
Completed 200 OK in 7ms (Views: 0.4ms | ActiveRecord: 2.0ms)


Started POST "/timelines.json" for 127.0.0.1 at 2014-03-28 15:42:12 +0900
Processing by TimelinesController#create as JSON
  Parameters: {"timeline"=>{"text"=>"Taiwan", "time"=>"2014-03-28 15:42:11", "picture_id"=>"2"}, "country"=>"Taiwan", "type"=>"1"}
-------------->timelines session 1
picture_id 2
  [1m[36mCountry Load (0.1ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."country_name" = 'Taiwan' ORDER BY "countries"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "countries" ("country_name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["country_name", "Taiwan"], ["created_at", Fri, 28 Mar 2014 06:42:12 UTC +00:00], ["updated_at", Fri, 28 Mar 2014 06:42:12 UTC +00:00]]
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36mPicture Load (0.1ms)[0m  [1mSELECT "pictures".* FROM "pictures" WHERE "pictures"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "pictures" SET "country_id" = ?, "category_id" = ?, "updated_at" = ? WHERE "pictures"."id" = 2[0m  [["country_id", 2], ["category_id", 1], ["updated_at", Fri, 28 Mar 2014 06:42:12 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
new country id2
cccc TaiwanTTTT
idid 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "timelines" ("created_at", "picture_id", "text", "time", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Fri, 28 Mar 2014 06:42:12 UTC +00:00], ["picture_id", 2], ["text", "Taiwan"], ["time", Fri, 28 Mar 2014 15:42:11 UTC +00:00], ["updated_at", Fri, 28 Mar 2014 06:42:12 UTC +00:00], ["user_id", 1]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  Rendered text template (0.0ms)
Completed 201 Created in 13ms (Views: 0.5ms | ActiveRecord: 4.4ms)


Started POST "/logins.json" for 127.0.0.1 at 2014-03-28 15:42:38 +0900
Processing by LoginsController#create as JSON
  Parameters: {"username"=>"admin", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."username" = 'admin' ORDER BY "users"."id" ASC LIMIT 1
registered!! UserID1
  Rendered text template (0.0ms)
Completed 200 OK in 2ms (Views: 0.3ms | ActiveRecord: 0.2ms)


Started GET "/users/1.json" for 127.0.0.1 at 2014-03-28 15:42:38 +0900
Processing by UsersController#show as JSON
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "timelines" WHERE (user_id=1)
  Rendered users/show.json.jbuilder (0.2ms)
Completed 200 OK in 5ms (Views: 3.2ms | ActiveRecord: 0.2ms)


Started GET "/pictures.json" for 127.0.0.1 at 2014-03-28 15:42:38 +0900
Processing by PicturesController#index as JSON
  [1m[36mPicture Load (0.2ms)[0m  [1mSELECT "pictures".* FROM "pictures" ORDER BY id desc LIMIT 15 OFFSET 0[0m
  Rendered pictures/index.json.jbuilder (0.9ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.2ms)


Started GET "/timelines.json?offset=0" for 127.0.0.1 at 2014-03-28 15:42:38 +0900
Processing by TimelinesController#index as JSON
  Parameters: {"offset"=>"0"}
-------------->index session 1
-------------->offset 0
offset 0
offset 0 not -1
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "friendships" WHERE (user_id=1)
0
  [1m[36mFriendship Load (0.2ms)[0m  [1mSELECT "friendships".* FROM "friendships" WHERE (user_id=1)[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT username FROM "users" WHERE (id=1) ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT profileImage FROM "users" WHERE (id=1) ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mTimeline Load (0.1ms)[0m  SELECT "timelines".* FROM "timelines" WHERE (user_id=1)
  [1m[36mPicture Load (0.1ms)[0m  [1mSELECT picture_url,id FROM "pictures" WHERE (id=1) ORDER BY "pictures"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "likes" WHERE "likes"."picture_id" = 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "comments" WHERE "comments"."picture_id" = 1[0m
  [1m[35mLike Load (0.2ms)[0m  SELECT "likes".* FROM "likes" WHERE "likes"."user_id" = 1 AND "likes"."picture_id" = 1 ORDER BY "likes"."id" ASC LIMIT 1
{:id=>"1", :user_id=>"1", :text=>"Hi my name satoshi", :time=>"2014-03-28 15:26:26 UTC", :username=>"admin", :profileImage=>"profile/profile71a2062b2f85d588037ea1636fd2ceaef8480016.png", :picture_url=>"files/2303c6aa14691f4ce690287ed15bd7ac63847872.png", :picture_id=>"1", :totalLike=>"1", :totalComment=>"3", :likeStatus=>"7"}
  [1m[36mPicture Load (0.1ms)[0m  [1mSELECT picture_url,id FROM "pictures" WHERE (id=2) ORDER BY "pictures"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "likes" WHERE "likes"."picture_id" = 2
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "comments" WHERE "comments"."picture_id" = 2[0m
  [1m[35mLike Load (0.1ms)[0m  SELECT "likes".* FROM "likes" WHERE "likes"."user_id" = 1 AND "likes"."picture_id" = 2 ORDER BY "likes"."id" ASC LIMIT 1
{:id=>"2", :user_id=>"1", :text=>"Taiwan", :time=>"2014-03-28 15:42:11 UTC", :username=>"admin", :profileImage=>"profile/profile71a2062b2f85d588037ea1636fd2ceaef8480016.png", :picture_url=>"files/011c9230c388374d1591813f82596940c825ca3e.png", :picture_id=>"2", :totalLike=>"0", :totalComment=>"0", :likeStatus=>"-1"}
all size 2
  Rendered timelines/index.json.jbuilder (1.0ms)
Completed 200 OK in 14ms (Views: 4.1ms | ActiveRecord: 1.6ms)


Started POST "/logins.json" for 127.0.0.1 at 2014-03-28 15:43:01 +0900
Processing by LoginsController#create as JSON
  Parameters: {"username"=>"admin", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."username" = 'admin' ORDER BY "users"."id" ASC LIMIT 1[0m
registered!! UserID1
  Rendered text template (0.0ms)
Completed 200 OK in 2ms (Views: 0.3ms | ActiveRecord: 0.2ms)


Started GET "/users/1.json" for 127.0.0.1 at 2014-03-28 15:43:01 +0900
Processing by UsersController#show as JSON
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "timelines" WHERE (user_id=1)[0m
  Rendered users/show.json.jbuilder (0.2ms)
Completed 200 OK in 4ms (Views: 2.8ms | ActiveRecord: 0.2ms)


Started GET "/pictures.json" for 127.0.0.1 at 2014-03-28 15:43:01 +0900
Processing by PicturesController#index as JSON
  [1m[35mPicture Load (0.2ms)[0m  SELECT "pictures".* FROM "pictures" ORDER BY id desc LIMIT 15 OFFSET 0
  Rendered pictures/index.json.jbuilder (1.0ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.2ms)


Started GET "/timelines.json?offset=0" for 127.0.0.1 at 2014-03-28 15:43:01 +0900
Processing by TimelinesController#index as JSON
  Parameters: {"offset"=>"0"}
-------------->index session 1
-------------->offset 0
offset 0
offset 0 not -1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "friendships" WHERE (user_id=1)[0m
0
  [1m[35mFriendship Load (0.1ms)[0m  SELECT "friendships".* FROM "friendships" WHERE (user_id=1)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT username FROM "users" WHERE (id=1) ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT profileImage FROM "users" WHERE (id=1) ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mTimeline Load (0.1ms)[0m  [1mSELECT "timelines".* FROM "timelines" WHERE (user_id=1)[0m
  [1m[35mPicture Load (0.1ms)[0m  SELECT picture_url,id FROM "pictures" WHERE (id=1) ORDER BY "pictures"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "likes" WHERE "likes"."picture_id" = 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "comments" WHERE "comments"."picture_id" = 1
  [1m[36mLike Load (0.1ms)[0m  [1mSELECT "likes".* FROM "likes" WHERE "likes"."user_id" = 1 AND "likes"."picture_id" = 1 ORDER BY "likes"."id" ASC LIMIT 1[0m
{:id=>"1", :user_id=>"1", :text=>"Hi my name satoshi", :time=>"2014-03-28 15:26:26 UTC", :username=>"admin", :profileImage=>"profile/profile71a2062b2f85d588037ea1636fd2ceaef8480016.png", :picture_url=>"files/2303c6aa14691f4ce690287ed15bd7ac63847872.png", :picture_id=>"1", :totalLike=>"1", :totalComment=>"3", :likeStatus=>"7"}
  [1m[35mPicture Load (0.1ms)[0m  SELECT picture_url,id FROM "pictures" WHERE (id=2) ORDER BY "pictures"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "likes" WHERE "likes"."picture_id" = 2[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "comments" WHERE "comments"."picture_id" = 2
  [1m[36mLike Load (0.1ms)[0m  [1mSELECT "likes".* FROM "likes" WHERE "likes"."user_id" = 1 AND "likes"."picture_id" = 2 ORDER BY "likes"."id" ASC LIMIT 1[0m
{:id=>"2", :user_id=>"1", :text=>"Taiwan", :time=>"2014-03-28 15:42:11 UTC", :username=>"admin", :profileImage=>"profile/profile71a2062b2f85d588037ea1636fd2ceaef8480016.png", :picture_url=>"files/011c9230c388374d1591813f82596940c825ca3e.png", :picture_id=>"2", :totalLike=>"0", :totalComment=>"0", :likeStatus=>"-1"}
all size 2
  Rendered timelines/index.json.jbuilder (0.9ms)
Completed 200 OK in 14ms (Views: 3.6ms | ActiveRecord: 1.6ms)


Started GET "/timelines.json?offset=0" for 127.0.0.1 at 2014-03-28 15:43:02 +0900
Processing by TimelinesController#index as JSON
  Parameters: {"offset"=>"0"}
-------------->index session 1
-------------->offset 0
offset 0
offset 0 not -1
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "friendships" WHERE (user_id=1)
0
  [1m[36mFriendship Load (0.2ms)[0m  [1mSELECT "friendships".* FROM "friendships" WHERE (user_id=1)[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT username FROM "users" WHERE (id=1) ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT profileImage FROM "users" WHERE (id=1) ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mTimeline Load (0.2ms)[0m  SELECT "timelines".* FROM "timelines" WHERE (user_id=1)
  [1m[36mPicture Load (0.2ms)[0m  [1mSELECT picture_url,id FROM "pictures" WHERE (id=1) ORDER BY "pictures"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "likes" WHERE "likes"."picture_id" = 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "comments" WHERE "comments"."picture_id" = 1[0m
  [1m[35mLike Load (0.2ms)[0m  SELECT "likes".* FROM "likes" WHERE "likes"."user_id" = 1 AND "likes"."picture_id" = 1 ORDER BY "likes"."id" ASC LIMIT 1
{:id=>"1", :user_id=>"1", :text=>"Hi my name satoshi", :time=>"2014-03-28 15:26:26 UTC", :username=>"admin", :profileImage=>"profile/profile71a2062b2f85d588037ea1636fd2ceaef8480016.png", :picture_url=>"files/2303c6aa14691f4ce690287ed15bd7ac63847872.png", :picture_id=>"1", :totalLike=>"1", :totalComment=>"3", :likeStatus=>"7"}
  [1m[36mPicture Load (0.2ms)[0m  [1mSELECT picture_url,id FROM "pictures" WHERE (id=2) ORDER BY "pictures"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "likes" WHERE "likes"."picture_id" = 2
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "comments" WHERE "comments"."picture_id" = 2[0m
  [1m[35mLike Load (0.2ms)[0m  SELECT "likes".* FROM "likes" WHERE "likes"."user_id" = 1 AND "likes"."picture_id" = 2 ORDER BY "likes"."id" ASC LIMIT 1
{:id=>"2", :user_id=>"1", :text=>"Taiwan", :time=>"2014-03-28 15:42:11 UTC", :username=>"admin", :profileImage=>"profile/profile71a2062b2f85d588037ea1636fd2ceaef8480016.png", :picture_url=>"files/011c9230c388374d1591813f82596940c825ca3e.png", :picture_id=>"2", :totalLike=>"0", :totalComment=>"0", :likeStatus=>"-1"}
all size 2
  Rendered timelines/index.json.jbuilder (0.8ms)
Completed 200 OK in 17ms (Views: 4.0ms | ActiveRecord: 2.5ms)


Started POST "/likes.json" for 127.0.0.1 at 2014-03-28 15:43:14 +0900
Processing by LikesController#create as JSON
  Parameters: {"like"=>{"picture_id"=>"2"}}
  [1m[36mLike Load (0.3ms)[0m  [1mSELECT "likes".* FROM "likes" WHERE "likes"."picture_id" = 2 AND "likes"."user_id" = 1 ORDER BY "likes"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "likes" ("created_at", "picture_id", "updated_at", "user_id") VALUES (?, ?, ?, ?)[0m  [["created_at", Fri, 28 Mar 2014 06:43:14 UTC +00:00], ["picture_id", 2], ["updated_at", Fri, 28 Mar 2014 06:43:14 UTC +00:00], ["user_id", 1]]
  [1m[35m (1.3ms)[0m  commit transaction
  Rendered text template (0.0ms)
Completed 200 OK in 7ms (Views: 0.5ms | ActiveRecord: 2.7ms)


Started GET "/timelines.json?offset=0" for 127.0.0.1 at 2014-03-28 15:43:44 +0900
Processing by TimelinesController#index as JSON
  Parameters: {"offset"=>"0"}
-------------->index session 1
-------------->offset 0
offset 0
offset 0 not -1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "friendships" WHERE (user_id=1)[0m
0
  [1m[35mFriendship Load (0.2ms)[0m  SELECT "friendships".* FROM "friendships" WHERE (user_id=1)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT username FROM "users" WHERE (id=1) ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT profileImage FROM "users" WHERE (id=1) ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mTimeline Load (0.1ms)[0m  [1mSELECT "timelines".* FROM "timelines" WHERE (user_id=1)[0m
  [1m[35mPicture Load (0.1ms)[0m  SELECT picture_url,id FROM "pictures" WHERE (id=1) ORDER BY "pictures"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "likes" WHERE "likes"."picture_id" = 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "comments" WHERE "comments"."picture_id" = 1
  [1m[36mLike Load (0.1ms)[0m  [1mSELECT "likes".* FROM "likes" WHERE "likes"."user_id" = 1 AND "likes"."picture_id" = 1 ORDER BY "likes"."id" ASC LIMIT 1[0m
{:id=>"1", :user_id=>"1", :text=>"Hi my name satoshi", :time=>"2014-03-28 15:26:26 UTC", :username=>"admin", :profileImage=>"profile/profile71a2062b2f85d588037ea1636fd2ceaef8480016.png", :picture_url=>"files/2303c6aa14691f4ce690287ed15bd7ac63847872.png", :picture_id=>"1", :totalLike=>"1", :totalComment=>"3", :likeStatus=>"7"}
  [1m[35mPicture Load (0.1ms)[0m  SELECT picture_url,id FROM "pictures" WHERE (id=2) ORDER BY "pictures"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "likes" WHERE "likes"."picture_id" = 2[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "comments" WHERE "comments"."picture_id" = 2
  [1m[36mLike Load (0.1ms)[0m  [1mSELECT "likes".* FROM "likes" WHERE "likes"."user_id" = 1 AND "likes"."picture_id" = 2 ORDER BY "likes"."id" ASC LIMIT 1[0m
{:id=>"2", :user_id=>"1", :text=>"Taiwan", :time=>"2014-03-28 15:42:11 UTC", :username=>"admin", :profileImage=>"profile/profile71a2062b2f85d588037ea1636fd2ceaef8480016.png", :picture_url=>"files/011c9230c388374d1591813f82596940c825ca3e.png", :picture_id=>"2", :totalLike=>"1", :totalComment=>"0", :likeStatus=>"8"}
all size 2
  Rendered timelines/index.json.jbuilder (0.5ms)
Completed 200 OK in 10ms (Views: 2.2ms | ActiveRecord: 1.5ms)


Started POST "/logins.json" for 127.0.0.1 at 2014-03-28 15:44:01 +0900
Processing by LoginsController#create as JSON
  Parameters: {"username"=>"admin", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."username" = 'admin' ORDER BY "users"."id" ASC LIMIT 1
registered!! UserID1
  Rendered text template (0.0ms)
Completed 200 OK in 2ms (Views: 0.5ms | ActiveRecord: 0.2ms)


Started GET "/users/1.json" for 127.0.0.1 at 2014-03-28 15:44:01 +0900
Processing by UsersController#show as JSON
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "timelines" WHERE (user_id=1)
  Rendered users/show.json.jbuilder (0.2ms)
Completed 200 OK in 5ms (Views: 2.8ms | ActiveRecord: 0.4ms)


Started GET "/pictures.json" for 127.0.0.1 at 2014-03-28 15:44:01 +0900
Processing by PicturesController#index as JSON
  [1m[36mPicture Load (0.2ms)[0m  [1mSELECT "pictures".* FROM "pictures" ORDER BY id desc LIMIT 15 OFFSET 0[0m
  Rendered pictures/index.json.jbuilder (1.0ms)
Completed 200 OK in 5ms (Views: 3.8ms | ActiveRecord: 0.2ms)


Started GET "/timelines.json?offset=0" for 127.0.0.1 at 2014-03-28 15:44:01 +0900
Processing by TimelinesController#index as JSON
  Parameters: {"offset"=>"0"}
-------------->index session 1
-------------->offset 0
offset 0
offset 0 not -1
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "friendships" WHERE (user_id=1)
0
  [1m[36mFriendship Load (0.1ms)[0m  [1mSELECT "friendships".* FROM "friendships" WHERE (user_id=1)[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT username FROM "users" WHERE (id=1) ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT profileImage FROM "users" WHERE (id=1) ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mTimeline Load (0.1ms)[0m  SELECT "timelines".* FROM "timelines" WHERE (user_id=1)
  [1m[36mPicture Load (0.1ms)[0m  [1mSELECT picture_url,id FROM "pictures" WHERE (id=1) ORDER BY "pictures"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "likes" WHERE "likes"."picture_id" = 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "comments" WHERE "comments"."picture_id" = 1[0m
  [1m[35mLike Load (0.1ms)[0m  SELECT "likes".* FROM "likes" WHERE "likes"."user_id" = 1 AND "likes"."picture_id" = 1 ORDER BY "likes"."id" ASC LIMIT 1
{:id=>"1", :user_id=>"1", :text=>"Hi my name satoshi", :time=>"2014-03-28 15:26:26 UTC", :username=>"admin", :profileImage=>"profile/profile71a2062b2f85d588037ea1636fd2ceaef8480016.png", :picture_url=>"files/2303c6aa14691f4ce690287ed15bd7ac63847872.png", :picture_id=>"1", :totalLike=>"1", :totalComment=>"3", :likeStatus=>"7"}
  [1m[36mPicture Load (0.1ms)[0m  [1mSELECT picture_url,id FROM "pictures" WHERE (id=2) ORDER BY "pictures"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "likes" WHERE "likes"."picture_id" = 2
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "comments" WHERE "comments"."picture_id" = 2[0m
  [1m[35mLike Load (0.2ms)[0m  SELECT "likes".* FROM "likes" WHERE "likes"."user_id" = 1 AND "likes"."picture_id" = 2 ORDER BY "likes"."id" ASC LIMIT 1
{:id=>"2", :user_id=>"1", :text=>"Taiwan", :time=>"2014-03-28 15:42:11 UTC", :username=>"admin", :profileImage=>"profile/profile71a2062b2f85d588037ea1636fd2ceaef8480016.png", :picture_url=>"files/011c9230c388374d1591813f82596940c825ca3e.png", :picture_id=>"2", :totalLike=>"1", :totalComment=>"0", :likeStatus=>"8"}
all size 2
  Rendered timelines/index.json.jbuilder (0.5ms)
Completed 200 OK in 11ms (Views: 2.2ms | ActiveRecord: 1.5ms)


Started POST "/pictures.json" for 127.0.0.1 at 2014-03-28 15:48:19 +0900
Processing by PicturesController#create as JSON
  Parameters: {"picture"=>#<ActionDispatch::Http::UploadedFile:0x007feb3b4145c8 @tempfile=#<Tempfile:/var/folders/mt/rwjrt4y10jn92lx246j_s4j00000gn/T/RackMultipart20140328-4335-1h173w9>, @original_filename="pic.png", @content_type="image/png", @headers="Content-Disposition: form-data; name=\"picture\"; filename=\"pic.png\"\r\nContent-Type: image/png\r\n">}
15769cead91886bb864b4163fcf25bcefdbfc921.png
-------------->Picture session 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "pictures" ("created_at", "picture_url", "updated_at") VALUES (?, ?, ?)  [["created_at", Fri, 28 Mar 2014 06:48:19 UTC +00:00], ["picture_url", "files/15769cead91886bb864b4163fcf25bcefdbfc921.png"], ["updated_at", Fri, 28 Mar 2014 06:48:19 UTC +00:00]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  Rendered text template (0.0ms)
Completed 200 OK in 12ms (Views: 0.4ms | ActiveRecord: 2.5ms)


Started POST "/timelines.json" for 127.0.0.1 at 2014-03-28 15:48:19 +0900
Processing by TimelinesController#create as JSON
  Parameters: {"timeline"=>{"text"=>"yoyoyoyo", "time"=>"2014-03-28 15:48:19", "picture_id"=>"3"}, "country"=>"South Korea", "type"=>"1"}
-------------->timelines session 1
picture_id 3
  [1m[35mCountry Load (0.2ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."country_name" = 'South Korea' ORDER BY "countries"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "countries" ("country_name", "created_at", "updated_at") VALUES (?, ?, ?)  [["country_name", "South Korea"], ["created_at", Fri, 28 Mar 2014 06:48:19 UTC +00:00], ["updated_at", Fri, 28 Mar 2014 06:48:19 UTC +00:00]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35mPicture Load (0.1ms)[0m  SELECT "pictures".* FROM "pictures" WHERE "pictures"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "pictures" SET "country_id" = ?, "category_id" = ?, "updated_at" = ? WHERE "pictures"."id" = 3  [["country_id", 3], ["category_id", 1], ["updated_at", Fri, 28 Mar 2014 06:48:19 UTC +00:00]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
new country id3
cccc South KoreaTTTT
idid 1
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "timelines" ("created_at", "picture_id", "text", "time", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Fri, 28 Mar 2014 06:48:19 UTC +00:00], ["picture_id", 3], ["text", "yoyoyoyo"], ["time", Fri, 28 Mar 2014 15:48:19 UTC +00:00], ["updated_at", Fri, 28 Mar 2014 06:48:19 UTC +00:00], ["user_id", 1]]
  [1m[35m (1.4ms)[0m  commit transaction
  Rendered text template (0.0ms)
Completed 201 Created in 12ms (Views: 0.3ms | ActiveRecord: 5.3ms)


Started POST "/logins.json" for 127.0.0.1 at 2014-03-28 15:48:42 +0900
Processing by LoginsController#create as JSON
  Parameters: {"username"=>"admin", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."username" = 'admin' ORDER BY "users"."id" ASC LIMIT 1[0m
registered!! UserID1
  Rendered text template (0.0ms)
Completed 200 OK in 2ms (Views: 0.3ms | ActiveRecord: 0.1ms)


Started GET "/users/1.json" for 127.0.0.1 at 2014-03-28 15:48:42 +0900
Processing by UsersController#show as JSON
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "timelines" WHERE (user_id=1)[0m
  Rendered users/show.json.jbuilder (0.1ms)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.2ms)


Started GET "/pictures.json" for 127.0.0.1 at 2014-03-28 15:48:42 +0900
Processing by PicturesController#index as JSON
  [1m[35mPicture Load (0.2ms)[0m  SELECT "pictures".* FROM "pictures" ORDER BY id desc LIMIT 15 OFFSET 0
  Rendered pictures/index.json.jbuilder (1.0ms)
Completed 200 OK in 4ms (Views: 3.8ms | ActiveRecord: 0.2ms)


Started GET "/timelines.json?offset=0" for 127.0.0.1 at 2014-03-28 15:48:42 +0900
Processing by TimelinesController#index as JSON
  Parameters: {"offset"=>"0"}
-------------->index session 1
-------------->offset 0
offset 0
offset 0 not -1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "friendships" WHERE (user_id=1)[0m
0
  [1m[35mFriendship Load (0.1ms)[0m  SELECT "friendships".* FROM "friendships" WHERE (user_id=1)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT username FROM "users" WHERE (id=1) ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT profileImage FROM "users" WHERE (id=1) ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mTimeline Load (0.1ms)[0m  [1mSELECT "timelines".* FROM "timelines" WHERE (user_id=1)[0m
  [1m[35mPicture Load (0.1ms)[0m  SELECT picture_url,id FROM "pictures" WHERE (id=1) ORDER BY "pictures"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "likes" WHERE "likes"."picture_id" = 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "comments" WHERE "comments"."picture_id" = 1
  [1m[36mLike Load (0.1ms)[0m  [1mSELECT "likes".* FROM "likes" WHERE "likes"."user_id" = 1 AND "likes"."picture_id" = 1 ORDER BY "likes"."id" ASC LIMIT 1[0m
{:id=>"1", :user_id=>"1", :text=>"Hi my name satoshi", :time=>"2014-03-28 15:26:26 UTC", :username=>"admin", :profileImage=>"profile/profile71a2062b2f85d588037ea1636fd2ceaef8480016.png", :picture_url=>"files/2303c6aa14691f4ce690287ed15bd7ac63847872.png", :picture_id=>"1", :totalLike=>"1", :totalComment=>"3", :likeStatus=>"7"}
  [1m[35mPicture Load (0.1ms)[0m  SELECT picture_url,id FROM "pictures" WHERE (id=2) ORDER BY "pictures"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "likes" WHERE "likes"."picture_id" = 2[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "comments" WHERE "comments"."picture_id" = 2
  [1m[36mLike Load (0.1ms)[0m  [1mSELECT "likes".* FROM "likes" WHERE "likes"."user_id" = 1 AND "likes"."picture_id" = 2 ORDER BY "likes"."id" ASC LIMIT 1[0m
{:id=>"2", :user_id=>"1", :text=>"Taiwan", :time=>"2014-03-28 15:42:11 UTC", :username=>"admin", :profileImage=>"profile/profile71a2062b2f85d588037ea1636fd2ceaef8480016.png", :picture_url=>"files/011c9230c388374d1591813f82596940c825ca3e.png", :picture_id=>"2", :totalLike=>"1", :totalComment=>"0", :likeStatus=>"8"}
  [1m[35mPicture Load (0.1ms)[0m  SELECT picture_url,id FROM "pictures" WHERE (id=3) ORDER BY "pictures"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "likes" WHERE "likes"."picture_id" = 3[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "comments" WHERE "comments"."picture_id" = 3
  [1m[36mLike Load (0.1ms)[0m  [1mSELECT "likes".* FROM "likes" WHERE "likes"."user_id" = 1 AND "likes"."picture_id" = 3 ORDER BY "likes"."id" ASC LIMIT 1[0m
{:id=>"3", :user_id=>"1", :text=>"yoyoyoyo", :time=>"2014-03-28 15:48:19 UTC", :username=>"admin", :profileImage=>"profile/profile71a2062b2f85d588037ea1636fd2ceaef8480016.png", :picture_url=>"files/15769cead91886bb864b4163fcf25bcefdbfc921.png", :picture_id=>"3", :totalLike=>"0", :totalComment=>"0", :likeStatus=>"-1"}
all size 3
  Rendered timelines/index.json.jbuilder (0.9ms)
Completed 200 OK in 15ms (Views: 3.6ms | ActiveRecord: 2.0ms)


Started POST "/likes.json" for 127.0.0.1 at 2014-03-28 15:49:20 +0900
Processing by LikesController#create as JSON
  Parameters: {"like"=>{"picture_id"=>"3"}}
  [1m[35mLike Load (0.2ms)[0m  SELECT "likes".* FROM "likes" WHERE "likes"."picture_id" = 3 AND "likes"."user_id" = 1 ORDER BY "likes"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "likes" ("created_at", "picture_id", "updated_at", "user_id") VALUES (?, ?, ?, ?)  [["created_at", Fri, 28 Mar 2014 06:49:20 UTC +00:00], ["picture_id", 3], ["updated_at", Fri, 28 Mar 2014 06:49:20 UTC +00:00], ["user_id", 1]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  Rendered text template (0.0ms)
Completed 200 OK in 5ms (Views: 0.4ms | ActiveRecord: 2.0ms)


Started GET "/comments.json?picture_id=3" for 127.0.0.1 at 2014-03-28 15:50:18 +0900
Processing by CommentsController#index as JSON
  Parameters: {"picture_id"=>"3"}
picture_id 3
  [1m[35mComment Load (0.2ms)[0m  SELECT "comments".* FROM "comments" WHERE "comments"."picture_id" = 3
  Rendered comments/index.json.jbuilder (0.1ms)
Completed 200 OK in 5ms (Views: 3.2ms | ActiveRecord: 0.2ms)


Started POST "/comments.json" for 127.0.0.1 at 2014-03-28 15:50:24 +0900
Processing by CommentsController#create as JSON
  Parameters: {"comment"=>{"text"=>"ぉぉぉ", "time"=>"2014-03-28 15:50:24", "picture_id"=>"3"}}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "comments" ("created_at", "picture_id", "text", "time", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Fri, 28 Mar 2014 06:50:24 UTC +00:00], ["picture_id", 3], ["text", "ぉぉぉ"], ["time", Fri, 28 Mar 2014 15:50:24 UTC +00:00], ["updated_at", Fri, 28 Mar 2014 06:50:24 UTC +00:00], ["user_id", 1]]
  [1m[36m (2.2ms)[0m  [1mcommit transaction[0m
  Rendered comments/show.json.jbuilder (0.3ms)
Completed 201 Created in 9ms (Views: 3.4ms | ActiveRecord: 2.9ms)
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.3ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_comments_on_picture_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_comments_on_picture_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_comments_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_comments_on_user_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_friendships_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_friendships_on_user_id' AND type='index'
[0m
  [1m[35m (0.3ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_likes_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_likes_on_user_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_likes_on_picture_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_likes_on_picture_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_pictures_on_category_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_pictures_on_category_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_pictures_on_country_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_pictures_on_country_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_pictures_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_pictures_on_user_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_timelines_on_picture_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_timelines_on_picture_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_timelines_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_timelines_on_user_id' AND type='index'

  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_comments_on_picture_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_comments_on_picture_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_comments_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_comments_on_user_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_friendships_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_friendships_on_user_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_likes_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_likes_on_user_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_likes_on_picture_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_likes_on_picture_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_pictures_on_category_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_pictures_on_category_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_pictures_on_country_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_pictures_on_country_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_pictures_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_pictures_on_user_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_timelines_on_picture_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_timelines_on_picture_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_timelines_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_timelines_on_user_id' AND type='index'

  [1m[36mTimeline Load (24.4ms)[0m  [1mSELECT  "timelines".* FROM "timelines"   ORDER BY "timelines"."id" ASC LIMIT 1[0m
  [1m[35mTimeline Load (0.3ms)[0m  SELECT "timelines".* FROM "timelines"
  [1m[36m (30.9ms)[0m  [1mSELECT COUNT(*) FROM "timelines"[0m


Started GET "/" for 127.0.0.1 at 2014-05-08 00:17:23 +0900
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by LoginsController#new as HTML
  Rendered logins/new.html.erb within layouts/application (115.0ms)
Completed 200 OK in 1340ms (Views: 1260.6ms | ActiveRecord: 0.5ms)


Started GET "/assets/comments.css?body=1" for 127.0.0.1 at 2014-05-08 00:17:25 +0900


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-05-08 00:17:25 +0900


Started GET "/assets/categories.css?body=1" for 127.0.0.1 at 2014-05-08 00:17:25 +0900


Started GET "/assets/likes.css?body=1" for 127.0.0.1 at 2014-05-08 00:17:25 +0900


Started GET "/assets/pictures.css?body=1" for 127.0.0.1 at 2014-05-08 00:17:25 +0900


Started GET "/assets/countries.css?body=1" for 127.0.0.1 at 2014-05-08 00:17:25 +0900


Started GET "/assets/friendships.css?body=1" for 127.0.0.1 at 2014-05-08 00:17:25 +0900


Started GET "/assets/scaffolds.css?body=1" for 127.0.0.1 at 2014-05-08 00:17:25 +0900


Started GET "/assets/timelines.css?body=1" for 127.0.0.1 at 2014-05-08 00:17:25 +0900


Started GET "/assets/users.css?body=1" for 127.0.0.1 at 2014-05-08 00:17:25 +0900


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-05-08 00:17:25 +0900


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-05-08 00:17:25 +0900


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-05-08 00:17:25 +0900


Started GET "/assets/categories.js?body=1" for 127.0.0.1 at 2014-05-08 00:17:25 +0900


Started GET "/assets/comments.js?body=1" for 127.0.0.1 at 2014-05-08 00:17:25 +0900


Started GET "/assets/countries.js?body=1" for 127.0.0.1 at 2014-05-08 00:17:25 +0900


Started GET "/assets/friendships.js?body=1" for 127.0.0.1 at 2014-05-08 00:17:25 +0900


Started GET "/assets/likes.js?body=1" for 127.0.0.1 at 2014-05-08 00:17:25 +0900


Started GET "/assets/pictures.js?body=1" for 127.0.0.1 at 2014-05-08 00:17:25 +0900


Started GET "/assets/timelines.js?body=1" for 127.0.0.1 at 2014-05-08 00:17:25 +0900


Started GET "/assets/users.js?body=1" for 127.0.0.1 at 2014-05-08 00:17:25 +0900


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-05-08 00:17:25 +0900
  [1m[36mUser Load (29.4ms)[0m  [1mSELECT  "users".* FROM "users"   ORDER BY "users"."id" DESC LIMIT 1[0m


Started POST "/logins" for 127.0.0.1 at 2014-05-08 00:18:32 +0900
Processing by LoginsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Xk6xBgdpbA1H1E+YTiAucFSwkkX1vVII8Ur4a2g1ZZg=", "user"=>{"username"=>"admin", "password"=>"[FILTERED]"}, "commit"=>"login"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."username" = 'admin'  ORDER BY "users"."id" ASC LIMIT 1
registered!! UserID1
Redirected to http://0.0.0.0:3000/timelines
Completed 302 Found in 50ms (ActiveRecord: 0.3ms)


Started GET "/timelines" for 127.0.0.1 at 2014-05-08 00:18:32 +0900
Processing by TimelinesController#index as HTML
-------------->index session 1
-------------->offset 
offset 
offset  not -1
  [1m[36m (13.2ms)[0m  [1mSELECT COUNT(*) FROM "friendships"  WHERE (user_id=1)[0m
0
  [1m[35mFriendship Load (0.2ms)[0m  SELECT "friendships".* FROM "friendships"  WHERE (user_id=1)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."username" FROM "users"  WHERE (id=1)  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users"."profileImage" FROM "users"  WHERE (id=1)  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mTimeline Load (0.5ms)[0m  [1mSELECT "timelines".* FROM "timelines"  WHERE (user_id=1)[0m
  [1m[35mPicture Load (0.5ms)[0m  SELECT  picture_url,id FROM "pictures"  WHERE (id=1)  ORDER BY "pictures"."id" ASC LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "likes"  WHERE "likes"."picture_id" = 1[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "comments"  WHERE "comments"."picture_id" = 1
  [1m[36mLike Load (0.6ms)[0m  [1mSELECT  "likes".* FROM "likes"  WHERE "likes"."user_id" = 1 AND "likes"."picture_id" = 1  ORDER BY "likes"."id" ASC LIMIT 1[0m
{:id=>"1", :user_id=>"1", :text=>"Hi my name satoshi", :time=>"2014-03-28 15:26:26 UTC", :username=>"admin", :profileImage=>"profile/profile71a2062b2f85d588037ea1636fd2ceaef8480016.png", :picture_url=>"files/2303c6aa14691f4ce690287ed15bd7ac63847872.png", :picture_id=>"1", :totalLike=>"1", :totalComment=>"3", :likeStatus=>"7"}
  [1m[35mPicture Load (0.2ms)[0m  SELECT  picture_url,id FROM "pictures"  WHERE (id=2)  ORDER BY "pictures"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "likes"  WHERE "likes"."picture_id" = 2[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "comments"  WHERE "comments"."picture_id" = 2
  [1m[36mLike Load (0.2ms)[0m  [1mSELECT  "likes".* FROM "likes"  WHERE "likes"."user_id" = 1 AND "likes"."picture_id" = 2  ORDER BY "likes"."id" ASC LIMIT 1[0m
{:id=>"2", :user_id=>"1", :text=>"Taiwan", :time=>"2014-03-28 15:42:11 UTC", :username=>"admin", :profileImage=>"profile/profile71a2062b2f85d588037ea1636fd2ceaef8480016.png", :picture_url=>"files/011c9230c388374d1591813f82596940c825ca3e.png", :picture_id=>"2", :totalLike=>"1", :totalComment=>"0", :likeStatus=>"8"}
  [1m[35mPicture Load (0.2ms)[0m  SELECT  picture_url,id FROM "pictures"  WHERE (id=3)  ORDER BY "pictures"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "likes"  WHERE "likes"."picture_id" = 3[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "comments"  WHERE "comments"."picture_id" = 3
  [1m[36mLike Load (0.1ms)[0m  [1mSELECT  "likes".* FROM "likes"  WHERE "likes"."user_id" = 1 AND "likes"."picture_id" = 3  ORDER BY "likes"."id" ASC LIMIT 1[0m
{:id=>"3", :user_id=>"1", :text=>"yoyoyoyo", :time=>"2014-03-28 15:48:19 UTC", :username=>"admin", :profileImage=>"profile/profile71a2062b2f85d588037ea1636fd2ceaef8480016.png", :picture_url=>"files/15769cead91886bb864b4163fcf25bcefdbfc921.png", :picture_id=>"3", :totalLike=>"1", :totalComment=>"1", :likeStatus=>"9"}
all size 3
  Rendered timelines/index.html.erb within layouts/application (5.1ms)
Completed 200 OK in 161ms (Views: 22.7ms | ActiveRecord: 20.0ms)


Started GET "/" for 127.0.0.1 at 2014-05-08 23:56:15 +0900
  [1m[36mActiveRecord::SchemaMigration Load (24.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by LoginsController#new as HTML
  Rendered logins/new.html.erb within layouts/application (193.1ms)
Completed 200 OK in 767ms (Views: 690.5ms | ActiveRecord: 0.6ms)


Started GET "/assets/countries.css?body=1" for 127.0.0.1 at 2014-05-08 23:56:16 +0900


Started GET "/assets/likes.css?body=1" for 127.0.0.1 at 2014-05-08 23:56:16 +0900


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-05-08 23:56:16 +0900


Started GET "/assets/pictures.css?body=1" for 127.0.0.1 at 2014-05-08 23:56:17 +0900


Started GET "/assets/scaffolds.css?body=1" for 127.0.0.1 at 2014-05-08 23:56:17 +0900




Started GET "/assets/comments.css?body=1" for 127.0.0.1 at 2014-05-08 23:56:17 +0900
Started GET "/assets/categories.css?body=1" for 127.0.0.1 at 2014-05-08 23:56:17 +0900


Started GET "/assets/friendships.css?body=1" for 127.0.0.1 at 2014-05-08 23:56:17 +0900


Started GET "/assets/timelines.css?body=1" for 127.0.0.1 at 2014-05-08 23:56:17 +0900


Started GET "/assets/users.css?body=1" for 127.0.0.1 at 2014-05-08 23:56:17 +0900


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-05-08 23:56:17 +0900
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-05-08 23:56:17 +0900
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-05-08 23:56:17 +0900


Started GET "/assets/categories.js?body=1" for 127.0.0.1 at 2014-05-08 23:56:17 +0900


Started GET "/assets/comments.js?body=1" for 127.0.0.1 at 2014-05-08 23:56:17 +0900


Started GET "/assets/countries.js?body=1" for 127.0.0.1 at 2014-05-08 23:56:17 +0900


Started GET "/assets/friendships.js?body=1" for 127.0.0.1 at 2014-05-08 23:56:17 +0900


Started GET "/assets/likes.js?body=1" for 127.0.0.1 at 2014-05-08 23:56:17 +0900


Started GET "/assets/pictures.js?body=1" for 127.0.0.1 at 2014-05-08 23:56:17 +0900




Started GET "/assets/timelines.js?body=1" for 127.0.0.1 at 2014-05-08 23:56:17 +0900
Started GET "/assets/users.js?body=1" for 127.0.0.1 at 2014-05-08 23:56:17 +0900


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-05-08 23:56:17 +0900


Started POST "/logins" for 127.0.0.1 at 2014-05-08 23:56:54 +0900
Processing by LoginsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Xk6xBgdpbA1H1E+YTiAucFSwkkX1vVII8Ur4a2g1ZZg=", "user"=>{"username"=>"admin", "password"=>"[FILTERED]"}, "commit"=>"login"}
  [1m[35mUser Load (23.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."username" = 'admin'  ORDER BY "users"."id" ASC LIMIT 1
registered!! UserID1
Redirected to http://0.0.0.0:3131/timelines
Completed 302 Found in 67ms (ActiveRecord: 23.2ms)


Started GET "/timelines" for 127.0.0.1 at 2014-05-08 23:56:54 +0900
Processing by TimelinesController#index as HTML
-------------->index session 1
-------------->offset 
offset 
offset  not -1
  [1m[35m (34.6ms)[0m  SELECT COUNT(*) FROM "friendships"  WHERE (user_id=1)
0
  [1m[36mFriendship Load (0.3ms)[0m  [1mSELECT "friendships".* FROM "friendships"  WHERE (user_id=1)[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users"."username" FROM "users"  WHERE (id=1)  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users"."profileImage" FROM "users"  WHERE (id=1)  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mTimeline Load (0.7ms)[0m  SELECT "timelines".* FROM "timelines"  WHERE (user_id=1)
  [1m[36mPicture Load (0.5ms)[0m  [1mSELECT  picture_url,id FROM "pictures"  WHERE (id=1)  ORDER BY "pictures"."id" ASC LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "likes"  WHERE "likes"."picture_id" = 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "comments"  WHERE "comments"."picture_id" = 1[0m
  [1m[35mLike Load (0.5ms)[0m  SELECT  "likes".* FROM "likes"  WHERE "likes"."user_id" = 1 AND "likes"."picture_id" = 1  ORDER BY "likes"."id" ASC LIMIT 1
{:id=>"1", :user_id=>"1", :text=>"Hi my name satoshi", :time=>"2014-03-28 15:26:26 UTC", :username=>"admin", :profileImage=>"profile/profile71a2062b2f85d588037ea1636fd2ceaef8480016.png", :picture_url=>"files/2303c6aa14691f4ce690287ed15bd7ac63847872.png", :picture_id=>"1", :totalLike=>"1", :totalComment=>"3", :likeStatus=>"7"}
  [1m[36mPicture Load (0.2ms)[0m  [1mSELECT  picture_url,id FROM "pictures"  WHERE (id=2)  ORDER BY "pictures"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "likes"  WHERE "likes"."picture_id" = 2
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "comments"  WHERE "comments"."picture_id" = 2[0m
  [1m[35mLike Load (0.1ms)[0m  SELECT  "likes".* FROM "likes"  WHERE "likes"."user_id" = 1 AND "likes"."picture_id" = 2  ORDER BY "likes"."id" ASC LIMIT 1
{:id=>"2", :user_id=>"1", :text=>"Taiwan", :time=>"2014-03-28 15:42:11 UTC", :username=>"admin", :profileImage=>"profile/profile71a2062b2f85d588037ea1636fd2ceaef8480016.png", :picture_url=>"files/011c9230c388374d1591813f82596940c825ca3e.png", :picture_id=>"2", :totalLike=>"1", :totalComment=>"0", :likeStatus=>"8"}
  [1m[36mPicture Load (0.2ms)[0m  [1mSELECT  picture_url,id FROM "pictures"  WHERE (id=3)  ORDER BY "pictures"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "likes"  WHERE "likes"."picture_id" = 3
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "comments"  WHERE "comments"."picture_id" = 3[0m
  [1m[35mLike Load (0.1ms)[0m  SELECT  "likes".* FROM "likes"  WHERE "likes"."user_id" = 1 AND "likes"."picture_id" = 3  ORDER BY "likes"."id" ASC LIMIT 1
{:id=>"3", :user_id=>"1", :text=>"yoyoyoyo", :time=>"2014-03-28 15:48:19 UTC", :username=>"admin", :profileImage=>"profile/profile71a2062b2f85d588037ea1636fd2ceaef8480016.png", :picture_url=>"files/15769cead91886bb864b4163fcf25bcefdbfc921.png", :picture_id=>"3", :totalLike=>"1", :totalComment=>"1", :likeStatus=>"9"}
all size 3
  Rendered timelines/index.html.erb within layouts/application (10.5ms)
Completed 200 OK in 582ms (Views: 339.6ms | ActiveRecord: 42.3ms)
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.2ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_comments_on_picture_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_comments_on_picture_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_comments_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_comments_on_user_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_friendships_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_friendships_on_user_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_likes_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_likes_on_user_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_likes_on_picture_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_likes_on_picture_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_pictures_on_category_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_pictures_on_category_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_pictures_on_country_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_pictures_on_country_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_pictures_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_pictures_on_user_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_timelines_on_picture_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_timelines_on_picture_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_timelines_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_timelines_on_user_id' AND type='index'

